<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>???</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&amp;family=VT323&amp;family=Rubik+Glitch&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    body * {
      cursor: none !important;
    }
    
    #games-menu, #games-menu * {
      cursor: auto !important;
    }
    
    /* Mobile support */
    @media (max-width: 768px) {
      body * {
        cursor: auto !important;
      }
      
      .custom-cursor {
        display: none !important;
      }
      
      #games-grid {
        grid-template-columns: 1fr !important;
      }
      
      #main-text {
        font-size: 2rem !important;
      }
      
      #weird-btn {
        font-size: 1.2rem !important;
        padding: 15px 30px !important;
      }
      
      .message-popup {
        font-size: 1.2rem !important;
        padding: 15px 25px !important;
      }
      
      #eye-container {
        top: 10px !important;
        right: 10px !important;
      }
      
      .eye {
        width: 40px !important;
        height: 40px !important;
      }
      
      .pupil {
        width: 12px !important;
        height: 12px !important;
      }
      
      #insta-link {
        font-size: 0.8rem !important;
        padding: 10px 15px !important;
        bottom: 70px !important;
        right: 10px !important;
      }
      
      #insta-link > div {
        flex-direction: column !important;
        gap: 4px !important;
      }
      
      #games-menu-btn {
        font-size: 1rem !important;
        padding: 10px 20px !important;
      }
    }
    
    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    @keyframes glitch {
      0% { transform: translate(0); filter: hue-rotate(0deg); }
      20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
      40% { transform: translate(2px, -2px); filter: hue-rotate(180deg); }
      60% { transform: translate(-2px, -2px); filter: hue-rotate(270deg); }
      80% { transform: translate(2px, 2px); filter: hue-rotate(360deg); }
      100% { transform: translate(0); filter: hue-rotate(0deg); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px) rotate(-1deg); }
      75% { transform: translateX(5px) rotate(1deg); }
    }
    
    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
      52% { opacity: 0.2; }
      54% { opacity: 0.9; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes pulse-red {
      0%, 100% { box-shadow: 0 0 20px #ff0000; }
      50% { box-shadow: 0 0 60px #ff0000; }
    }
    
    @keyframes scanline {
      0% { top: 0; }
      100% { top: 100%; }
    }
    
    @keyframes rainbow {
      0% { color: #ff0000; }
      17% { color: #ff8800; }
      33% { color: #ffff00; }
      50% { color: #00ff00; }
      67% { color: #0088ff; }
      83% { color: #8800ff; }
      100% { color: #ff0000; }
    }
    
    .breathe { animation: breathe 4s ease-in-out infinite; }
    .glitch { animation: glitch 0.3s ease-in-out infinite; }
    .shake { animation: shake 0.5s ease-in-out infinite; }
    .flicker { animation: flicker 0.1s ease-in-out infinite; }
    .float { animation: float 3s ease-in-out infinite; }
    .spin { animation: spin 2s linear infinite; }
    .pulse-red { animation: pulse-red 1s ease-in-out infinite; }
    .rainbow { animation: rainbow 2s linear infinite; }
    
    .scanlines::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(0, 255, 0, 0.1);
      animation: scanline 8s linear infinite;
      pointer-events: none;
      z-index: 9999;
    }
    
    .vhs-effect {
      text-shadow: 2px 0 #ff0000, -2px 0 #00ffff;
    }
    
    .custom-cursor {
      position: fixed;
      width: 30px;
      height: 30px;
      border: 2px solid #00ff00;
      border-radius: 50%;
      pointer-events: none;
      z-index: 99999;
      transition: transform 0.1s, border-color 0.2s;
      mix-blend-mode: difference;
    }
    
    .eye {
      width: 60px;
      height: 60px;
      background: radial-gradient(circle, #fff 30%, #000 70%);
      border-radius: 50%;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .pupil {
      width: 20px;
      height: 20px;
      background: #000;
      border-radius: 50%;
      position: absolute;
      transition: transform 0.1s;
    }
    
    .secret-portal {
      position: fixed;
      width: 10px;
      height: 10px;
      background: transparent;
      bottom: 10px;
      right: 10px;
      cursor: pointer !important;
    }
    
    .message-popup {
      position: fixed;
      padding: 20px 40px;
      background: rgba(0, 0, 0, 0.9);
      border: 2px solid;
      font-family: 'VT323', monospace;
      font-size: 1.5rem;
      z-index: 10000;
      pointer-events: none;
      transition: all 0.3s;
    }
    
    .runaway-btn {
      transition: all 0.1s;
    }
    
    .achievement {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid #e94560;
      padding: 15px 30px;
      font-family: 'VT323', monospace;
      z-index: 10001;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .noise {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.03;
      pointer-events: none;
      z-index: 9998;
    }
    
    .inverted {
      filter: invert(1);
    }
    
    .upside-down {
      transform: rotate(180deg);
    }
    
    .mirrored {
      transform: scaleX(-1);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-black text-white overflow-hidden">
  <div id="app" class="h-full w-full relative flex items-center justify-center breathe"><!-- Custom Cursor -->
   <div id="cursor" class="custom-cursor"></div><!-- Noise Overlay -->
   <div class="noise"></div><!-- Main Container -->
   <div id="main-content" class="text-center z-10 p-8"><!-- Initial mysterious text -->
    <h1 id="main-text" class="text-4xl md:text-6xl font-bold vhs-effect mb-6" style="font-family: 'Rubik Glitch', cursive;">.</h1><!-- Subtitle -->
    <div id="subtitle" class="text-xl md:text-2xl text-gray-600 mb-8" style="font-family: 'VT323', monospace;">
     Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ø¬Ù‡ÙˆÙ„
    </div><!-- Mysterious button --> <button id="weird-btn" class="runaway-btn px-12 py-5 bg-gradient-to-r from-purple-900 to-pink-900 border-4 border-purple-500 text-purple-200 text-2xl hover:from-pink-900 hover:to-purple-900 hover:border-pink-500 transition-all shadow-lg hover:shadow-purple-500/50 pulse-red" style="font-family: 'VT323', monospace;"> âš¡ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ âš¡ </button> <!-- Stats display -->
    <div id="stats-display" class="mt-8 flex justify-center gap-6 text-sm opacity-50 hover:opacity-100 transition-opacity" style="font-family: 'VT323', monospace;">
     <div class="text-green-500"><span class="text-gray-600">Ø²ÙŠØ§Ø±Ø§Øª:</span> <span id="visit-display">0</span>
     </div>
     <div class="text-yellow-500"><span class="text-gray-600">Ù†Ù‚Ø±Ø§Øª:</span> <span id="click-display">0</span>
     </div>
     <div class="text-purple-500"><span class="text-gray-600">Ø¥Ù†Ø¬Ø§Ø²Ø§Øª:</span> <span id="achievement-display">0</span>
     </div>
    </div><!-- Hidden counter -->
    <div id="hidden-counter" class="mt-4 text-xs text-gray-800 opacity-0"><span id="visit-count">0</span>
    </div>
   </div><!-- Watching Eye -->
   <div id="eye-container" class="fixed top-8 right-8 opacity-0 transition-opacity duration-1000">
    <div class="eye">
     <div id="pupil" class="pupil"></div>
    </div>
   </div><!-- Message Container -->
   <div id="message-container" class="fixed inset-0 pointer-events-none flex items-center justify-center z-50"></div><!-- Secret Portal -->
   <div id="secret-portal" class="secret-portal" title=""></div><!-- Achievement Container -->
   <div id="achievement-container"></div><!-- Games Menu Button --> <button id="games-menu-btn" class="fixed bottom-4 left-4 px-4 py-2 bg-purple-900 border-2 border-purple-500 text-purple-300 hover:bg-purple-800 transition-all z-50" style="font-family: 'VT323', monospace; font-size: 1.2rem;"> ğŸ® Ø£Ù„Ø¹Ø§Ø¨ </button> <!-- Floating Weird Boxes -->
   <div id="weird-boxes-container" class="fixed inset-0 pointer-events-none z-30"></div><!-- Name Input Box -->
   <div id="name-box" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black border-4 border-purple-500 p-8 z-[9999] hidden" style="font-family: 'VT323', monospace;">
    <div class="text-center mb-4">
     <div class="text-3xl text-purple-400 mb-2">
      ğŸ‘¤
     </div>
     <div class="text-2xl text-white mb-2">
      Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ
     </div>
     <div class="text-sm text-gray-500">
      Ø£Ø®Ø¨Ø±Ù†ÙŠ... Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ¬Ø±Ø¤
     </div>
    </div><input type="text" id="name-input" maxlength="20" class="w-full px-4 py-3 bg-gray-900 border-2 border-purple-500 text-purple-300 text-xl text-center focus:outline-none focus:border-purple-300" placeholder="Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." style="font-family: 'VT323', monospace;">
    <div class="flex gap-3 mt-4"><button id="name-submit" class="flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white border-2 border-purple-400 transition-all">Ø­ÙØ¸</button> <button id="name-skip" class="flex-1 px-4 py-2 bg-transparent hover:bg-gray-900 text-gray-500 border-2 border-gray-700 transition-all">ØªØ®Ø·ÙŠ</button>
    </div>
   </div><!-- Instagram Link - Creepy Style --> <a href="https://www.instagram.com/i_lg4" target="_blank" rel="noopener noreferrer" id="insta-link" class="fixed bottom-4 right-4 px-4 py-2 border-2 text-center hover:scale-110 transition-all z-50 glitch" style="font-family: 'VT323', monospace; font-size: 1rem; background: #000; border-color: #e1306c; color: #e1306c; text-decoration: none; cursor: pointer;">
    <div style="display: flex; align-items: center; gap: 8px;"><span style="font-size: 1.5rem;">ğŸ‘ï¸</span>
     <div>
      <div style="font-size: 0.7rem; color: #666;">
       ØªØ§Ø¨Ø¹Ù†ÙŠ... Ø¥Ø°Ø§ ØªØ¬Ø±Ø£Øª
      </div>
      <div style="font-size: 1.1rem;">
       @i_lg4
      </div>
     </div>
    </div></a> <!-- Games Menu -->
   <div id="games-menu" class="fixed inset-0 bg-black bg-opacity-95 z-[9999] hidden items-center justify-center p-8" style="cursor: auto !important;">
    <div class="max-w-4xl w-full">
     <div class="flex justify-between items-center mb-8">
      <h2 class="text-4xl text-green-400" style="font-family: 'Rubik Glitch', cursive;">ØµØ§Ù„Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØºØ±ÙŠØ¨Ø©</h2><button id="close-games-menu" class="text-4xl text-red-500 hover:text-red-300">âœ•</button>
     </div>
     <div id="games-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4" style="font-family: 'VT323', monospace;"><!-- Games will be populated here -->
     </div>
     <div class="mt-6 text-center text-gray-600 text-sm">
      ğŸ’¡ ÙƒÙ„ Ù„Ø¹Ø¨Ø© ÙÙŠÙ‡Ø§ ØºØ´... Ø§ÙƒØªØ´ÙÙ‡ Ø¨Ù†ÙØ³Ùƒ
     </div>
    </div>
   </div>
  </div>
  <script>
    // ========== SITE VERSION ==========
    const SITE_VERSION = "v1.0.7";
    
    // ========== MEMORY SYSTEM ==========
    const memory = {
      visits: parseInt(localStorage.getItem('weird_visits') || '0'),
      clicks: parseInt(localStorage.getItem('weird_clicks') || '0'),
      patience: parseInt(localStorage.getItem('weird_patience') || '0'),
      escapes: parseInt(localStorage.getItem('weird_escapes') || '0'),
      secrets: JSON.parse(localStorage.getItem('weird_secrets') || '[]'),
      achievements: JSON.parse(localStorage.getItem('weird_achievements') || '[]'),
      lastVisit: localStorage.getItem('weird_last_visit') || null,
      name: localStorage.getItem('weird_name') || null,
      angeredSite: localStorage.getItem('weird_angered') === 'true',
      totalTime: parseInt(localStorage.getItem('weird_time') || '0')
    };
    
    // Increment visit
    memory.visits++;
    localStorage.setItem('weird_visits', memory.visits);
    localStorage.setItem('weird_last_visit', new Date().toISOString());
    
    // ========== RANDOM UTILITIES ==========
    const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
    const randomChoice = (arr) => arr[Math.floor(Math.random() * arr.length)];
    const chance = (percent) => Math.random() * 100 < percent;
    
    // ========== MESSAGES ==========
    const messages = {
      greetings: [
        "Ø£Ù‡Ù„Ø§Ù‹... Ù…Ø¬Ø¯Ø¯Ø§Ù‹",
        "ÙƒÙ†Øª Ø£Ù†ØªØ¸Ø±Ùƒ",
        "Ø¹Ø¯Øª",
        "...",
        "Ù„Ù…Ø§Ø°Ø§ Ø£Ù†Øª Ù‡Ù†Ø§ØŸ",
        "Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŸ",
        "Ø£Ø±Ø§Ùƒ",
        "Ø£Ø¹Ø±ÙÙƒ"
      ],
      creepy: [
        "Ø£Ù†Ø§ Ø£Ø±Ø§Ù‚Ø¨Ùƒ",
        "Ø®Ù„Ù Ø¸Ù‡Ø±Ùƒ",
        "Ù„Ø§ ØªÙ„ØªÙØª",
        "Ø£Ø³Ù…Ø¹ ØªÙ†ÙØ³Ùƒ",
        "Ø´Ø§Ø´ØªÙƒ Ù…ØªØ³Ø®Ø©",
        "Ø§Ù‚ØªØ±Ø¨ Ø£ÙƒØ«Ø±",
        "Ø§Ø¨ØªØ¹Ø¯",
        "Ù„Ù…Ø§Ø°Ø§ ØªÙˆÙ‚ÙØªØŸ"
      ],
      funny: [
        "ÙˆØ¬Ù‡Ùƒ Ù…Ø¶Ø­Ùƒ",
        "ğŸ˜‚ğŸ˜‚ğŸ˜‚",
        "Ø£Ù†Øª ØªØ¶ÙŠØ¹ ÙˆÙ‚ØªÙƒ",
        "Ù…Ø¨Ø±ÙˆÙƒØŒ Ù„Ø§ Ø´ÙŠØ¡ ÙŠØ­Øµï¿½ï¿½",
        "Ù‡Ù‡Ù‡Ù‡Ù‡Ù‡Ù‡Ù‡",
        "ï¿½ï¿½ÙŠØ¨ ÙˆØ¨Ø¹Ø¯ÙŠÙ†ØŸ",
        "Ù…Ø§ ÙÙŠÙ‡ Ø¬Ø§Ø¦Ø²Ø©"
      ],
      insults: [
        "ÙŠØ§ ØºØ¨ÙŠ",
        "Ø¨Ø±Ø§ÙÙˆ ÙŠØ§ Ø°ÙƒÙŠ",
        "ÙˆØ§ÙˆØŒ Ù…Ø«ÙŠØ± Ù„Ù„Ø¥Ø¹Ø¬Ø§Ø¨... Ù„Ø§",
        "Ø£Ù†Øª Ø£Ø¨Ø·Ø£ Ù…Ù† Ø§Ù„Ù…ØªÙˆÙ‚Ø¹",
        "Ø­ØªÙ‰ Ø§Ù„Ø²Ø± ÙŠÙ‡Ø±Ø¨ Ù…Ù†Ùƒ"
      ],
      praise: [
        "Ø£Ù†Øª Ù…Ù…ÙŠØ²",
        "Ø§Ø³ØªÙ…Ø±",
        "Ø±Ø§Ø¦Ø¹!",
        "Ø£Ø­Ø¨Ùƒ... Ø±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ù…Ø§",
        "Ù„Ø¯ÙŠÙƒ ØµØ¨Ø±"
      ],
      warnings: [
        "Ù„Ø§ ØªØ±Ø¬Ø¹",
        "Ø§Ø®Ø±Ø¬ Ø§Ù„Ø¢Ù†",
        "ÙƒÙØ§ÙŠØ©",
        "Ø³ØªÙ†Ø¯Ù…",
        "ØªÙˆÙ‚Ù",
        "Ù„Ø§ ØªØ¶ØºØ·"
      ],
      nicknames: [
        "ÙŠØ§ ÙØ¶ÙˆÙ„ÙŠ",
        "ÙŠØ§ Ù…ØºØ§Ù…Ø±",
        "ÙŠØ§ Ø¶Ø§Ø¦Ø¹",
        "ÙŠØ§ Ø¨Ø§Ø­Ø«",
        "ÙŠØ§ Ø´Ø¬Ø§Ø¹",
        "ÙŠØ§ Ù…ØªÙ‡ÙˆØ±"
      ],
      existential: [
        "Ù„Ù…Ø§Ø°Ø§ Ù†Ø­Ù† Ù‡Ù†Ø§ØŸ",
        "Ù‡Ù„ Ù‡Ø°Ø§ Ø­Ù‚ÙŠÙ‚ÙŠØŸ",
        "Ø£Ù†Øª ØªÙ‚Ø±Ø£ Ù†ØµØ§ï¿½ï¿½ï¿½ï¿½",
        "Ø§Ù„ÙˆÙ‚Øª ÙŠÙ…Ø±",
        "Ù…Ø§Ø°Ø§ Ù„Ùˆ Ø£ØºÙ„Ù‚ØªØŸ"
      ]
    };
    
    const achievements = [
      { id: 'first_visit', name: 'Ø§Ù„Ù…Ø³ØªÙƒØ´Ù', desc: 'Ø²ÙŠØ§Ø±ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰', icon: 'ğŸ”' },
      { id: 'clicks_10', name: 'Ø§Ù„Ù…Ø«Ø§Ø¨Ø±', desc: '10 Ù†Ù‚Ø±Ø§Øª', icon: 'ğŸ‘†' },
      { id: 'clicks_50', name: 'Ø§Ù„Ù…Ù‡ÙˆÙˆØ³', desc: '50 Ù†Ù‚Ø±Ø©', icon: 'ğŸ”¥' },
      { id: 'patience', name: 'Ø§Ù„ØµØ¨ÙˆØ±', desc: 'Ø§Ù†ØªØ¸Ø±Øª 30 Ø«Ø§Ù†ÙŠØ©', icon: 'â°' },
      { id: 'secret_found', name: 'ÙƒØ§Ø´Ù Ø§Ù„Ø£Ø³Ø±Ø§Ø±', desc: 'ÙˆØ¬Ø¯Øª Ø³Ø±Ø§Ù‹', icon: 'ğŸ•µï¸' },
      { id: 'return_visitor', name: 'Ø§Ù„Ø¹Ø§Ø¦Ø¯', desc: 'Ø±Ø¬Ø¹Øª!', icon: 'ğŸ”„' },
      { id: 'night_owl', name: 'Ø¨ÙˆÙ…Ø© Ø§Ù„Ù„ÙŠÙ„', desc: 'Ø²ÙŠØ§Ø±Ø© Ù„ÙŠÙ„ÙŠØ©', icon: 'ğŸ¦‰' },
      { id: 'survivor', name: 'Ø§Ù„Ù†Ø§Ø¬ÙŠ', desc: 'Ù†Ø¬ÙˆØª Ù…Ù† Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø±', icon: 'ğŸ’€' }
    ];
    
    // ========== DOM ELEMENTS ==========
    const cursor = document.getElementById('cursor');
    const mainText = document.getElementById('main-text');
    const weirdBtn = document.getElementById('weird-btn');
    const eyeContainer = document.getElementById('eye-container');
    const pupil = document.getElementById('pupil');
    const messageContainer = document.getElementById('message-container');
    const secretPortal = document.getElementById('secret-portal');
    const app = document.getElementById('app');
    
    // ========== AUDIO SYSTEM ==========
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    let audioCtx = null;
    
    function initAudio() {
      if (!audioCtx) {
        audioCtx = new AudioCtx();
      }
    }
    
    function playTone(freq, duration, type = 'sine') {
      if (!audioCtx) return;
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      osc.type = type;
      osc.frequency.value = freq;
      gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
      gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
      osc.connect(gain);
      gain.connect(audioCtx.destination);
      osc.start();
      osc.stop(audioCtx.currentTime + duration);
    }
    
    function playGlitch() {
      if (!audioCtx) return;
      for (let i = 0; i < 5; i++) {
        setTimeout(() => {
          playTone(random(100, 2000), 0.05, 'sawtooth');
        }, i * 50);
      }
    }
    
    function playWhisper() {
      if (!audioCtx) return;
      const noise = audioCtx.createBufferSource();
      const buffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.5, audioCtx.sampleRate);
      const data = buffer.getChannelData(0);
      for (let i = 0; i < buffer.length; i++) {
        data[i] = (Math.random() * 2 - 1) * 0.1;
      }
      noise.buffer = buffer;
      const filter = audioCtx.createBiquadFilter();
      filter.type = 'lowpass';
      filter.frequency.value = 500;
      noise.connect(filter);
      filter.connect(audioCtx.destination);
      noise.start();
    }
    
    function playHeartbeat() {
      playTone(60, 0.1, 'sine');
      setTimeout(() => playTone(50, 0.15, 'sine'), 150);
    }
    
    // ========== CURSOR TRACKING ==========
    let mouseX = 0, mouseY = 0;
    
    function updateCursor(x, y) {
      mouseX = x;
      mouseY = y;
      
      cursor.style.left = mouseX - 15 + 'px';
      cursor.style.top = mouseY - 15 + 'px';
      
      // Eye tracking
      if (eyeContainer.style.opacity === '1') {
        const eyeRect = eyeContainer.getBoundingClientRect();
        const eyeCenterX = eyeRect.left + eyeRect.width / 2;
        const eyeCenterY = eyeRect.top + eyeRect.height / 2;
        const angle = Math.atan2(mouseY - eyeCenterY, mouseX - eyeCenterX);
        const distance = Math.min(15, Math.hypot(mouseX - eyeCenterX, mouseY - eyeCenterY) / 10);
        pupil.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
      }
    }
    
    document.addEventListener('mousemove', (e) => {
      updateCursor(e.clientX, e.clientY);
    });
    
    // Touch support for mobile
    document.addEventListener('touchmove', (e) => {
      if (e.touches.length > 0) {
        updateCursor(e.touches[0].clientX, e.touches[0].clientY);
      }
    });
    
    document.addEventListener('touchstart', (e) => {
      if (e.touches.length > 0) {
        updateCursor(e.touches[0].clientX, e.touches[0].clientY);
      }
    });
    
    // ========== MESSAGE SYSTEM ==========
    function showMessage(text, options = {}) {
      const { duration = 2000, color = '#00ff00', size = '1.5rem', position = 'center' } = options;
      
      const msg = document.createElement('div');
      msg.className = 'message-popup';
      msg.style.borderColor = color;
      msg.style.color = color;
      msg.style.fontSize = size;
      msg.textContent = text;
      
      if (position === 'random') {
        msg.style.left = random(10, 70) + '%';
        msg.style.top = random(10, 70) + '%';
      } else if (position === 'follow') {
        msg.style.left = mouseX + 'px';
        msg.style.top = mouseY + 'px';
      }
      
      messageContainer.appendChild(msg);
      
      setTimeout(() => {
        msg.style.opacity = '0';
        setTimeout(() => msg.remove(), 300);
      }, duration);
    }
    
    function showAchievement(achId) {
      if (memory.achievements.includes(achId)) return;
      
      const ach = achievements.find(a => a.id === achId);
      if (!ach) return;
      
      memory.achievements.push(achId);
      localStorage.setItem('weird_achievements', JSON.stringify(memory.achievements));
      
      const container = document.getElementById('achievement-container');
      const elem = document.createElement('div');
      elem.className = 'achievement';
      elem.innerHTML = `
        <span style="font-size: 2rem;">${ach.icon}</span>
        <div>
          <div style="color: #e94560; font-size: 0.8rem;">Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯!</div>
          <div style="color: #fff; font-size: 1.2rem;">${ach.name}</div>
          <div style="color: #888; font-size: 0.9rem;">${ach.desc}</div>
        </div>
      `;
      container.appendChild(elem);
      
      playTone(523, 0.1);
      setTimeout(() => playTone(659, 0.1), 100);
      setTimeout(() => playTone(784, 0.2), 200);
      
      setTimeout(() => {
        elem.style.opacity = '0';
        elem.style.transform = 'translateX(-50%) translateY(100px)';
        setTimeout(() => elem.remove(), 500);
      }, 3000);
    }
    
    // ========== EVENTS SYSTEM ==========
    const events = {
      // ï¿½ï¿½ï¿½ï¿½ Interactive Events
      runawayButton: () => {
        const btn = weirdBtn;
        const moveBtn = () => {
          const maxX = window.innerWidth - btn.offsetWidth - 20;
          const maxY = window.innerHeight - btn.offsetHeight - 20;
          btn.style.position = 'fixed';
          btn.style.left = random(20, maxX) + 'px';
          btn.style.top = random(20, maxY) + 'px';
          memory.escapes++;
          localStorage.setItem('weird_escapes', memory.escapes);
        };
        btn.addEventListener('mouseenter', moveBtn);
        setTimeout(() => {
          btn.removeEventListener('mouseenter', moveBtn);
          btn.style.position = '';
          btn.style.left = '';
          btn.style.top = '';
        }, 10000);
      },
      
      growingButton: () => {
        let scale = 1;
        const grow = () => {
          scale += 0.1;
          weirdBtn.style.transform = `scale(${scale})`;
          if (scale < 3) setTimeout(grow, 200);
          else {
            setTimeout(() => {
              weirdBtn.style.transform = 'scale(1)';
            }, 1000);
          }
        };
        grow();
      },
      
      shrinkingButton: () => {
        let scale = 1;
        const shrink = () => {
          scale -= 0.05;
          weirdBtn.style.transform = `scale(${Math.max(0.1, scale)})`;
          if (scale > 0.1) setTimeout(shrink, 100);
          else {
            showMessage('Ø§Ø®ØªÙÙ‰!', { color: '#ff0000' });
            setTimeout(() => {
              weirdBtn.style.transform = 'scale(1)';
            }, 2000);
          }
        };
        shrink();
      },
      
      stubbornButton: () => {
        const originalText = weirdBtn.textContent;
        const responses = ['Ù„Ø§', 'Ù…Ø³ØªØ­ÙŠÙ„', 'Ø§Ø±ÙØ¶', 'Ù„Ù† Ø£ÙØ¹Ù„', 'Ø¬Ø±Ø¨ Ø«Ø§Ù†ÙŠØ©', 'Ù„Ø§ Ù„Ø§ Ù„Ø§'];
        let attempts = 0;
        
        const stubborn = (e) => {
          e.preventDefault();
          attempts++;
          weirdBtn.textContent = randomChoice(responses);
          weirdBtn.classList.add('shake');
          setTimeout(() => weirdBtn.classList.remove('shake'), 500);
          
          if (attempts >= 5) {
            weirdBtn.textContent = 'Ø·ÙŠØ¨... ï¿½ï¿½ï¿½ï¿½';
            setTimeout(() => {
              weirdBtn.textContent = originalText;
            }, 2000);
            weirdBtn.removeEventListener('click', stubborn);
          }
        };
        
        weirdBtn.addEventListener('click', stubborn);
      },
      
      // ğŸ‘ï¸ Psychological Events
      watchingEye: () => {
        eyeContainer.style.opacity = '1';
        showMessage('Ø£Ø±Ø§Ùƒ', { color: '#ff0000', position: 'random' });
        setTimeout(() => {
          eyeContainer.style.opacity = '0';
        }, random(5000, 15000));
      },
      
      knowsYourName: () => {
        if (memory.name) {
          showMessage(`Ø£Ù‡Ù„Ø§Ù‹ ${memory.name}`, { color: '#00ffff', size: '2rem' });
        } else {
          const name = randomChoice(['ØµØ¯ÙŠÙ‚ÙŠ', 'ØºØ±ÙŠØ¨', 'Ø²Ø§Ø¦Ø±', 'Ø£Ù†Øª', 'Ø¥Ù†Ø³Ø§Ù†']);
          showMessage(`Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ ${name}`, { color: '#00ffff' });
        }
      },
      
      visitCounter: () => {
        const ordinal = memory.visits === 1 ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 
                       memory.visits === 2 ? 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©' : 
                       memory.visits === 3 ? 'Ø§Ù„Ø«Ø§Ù„Ø«ï¿½ï¿½' : 
                       `Ø±Ù‚Ù… ${memory.visits}`;
        showMessage(`ï¿½ï¿½ÙŠØ§Ø±ØªÙƒ ${ordinal}`, { duration: 3000 });
      },
      
      expectedYou: () => {
        showMessage('ÙƒÙ†Øª Ø£Ø¹Ø±Ù Ø¥Ù†Ùƒ Ø±Ø§Ø­ ØªØ¬ÙŠ', { color: '#ff00ff', duration: 3000 });
        playWhisper();
      },
      
      breathingPage: () => {
        app.classList.add('breathe');
        playHeartbeat();
        const interval = setInterval(playHeartbeat, 1000);
        setTimeout(() => {
          clearInterval(interval);
        }, 10000);
      },
      
      // ğŸ˜‚ Funny Events
      applause: () => {
        showMessage('ğŸ‘ğŸ‘ğŸ‘', { size: '3rem', duration: 1500 });
        for (let i = 0; i < 10; i++) {
          setTimeout(() => {
            const clap = document.createElement('div');
            clap.textContent = 'ğŸ‘';
            clap.style.cssText = `
              position: fixed;
              left: ${random(10, 90)}%;
              top: ${random(10, 90)}%;
              font-size: ${random(20, 50)}px;
              animation: float 2s ease-out forwards;
              pointer-events: none;
              z-index: 1000;
            `;
            document.body.appendChild(clap);
            setTimeout(() => clap.remove(), 2000);
          }, i * 100);
        }
      },
      
      randomPraise: () => {
        showMessage(randomChoice(messages.praise), { color: '#00ff00', size: '2rem' });
        playTone(523, 0.2);
      },
      
      randomInsult: () => {
        showMessage(randomChoice(messages.insults), { color: '#ff6600' });
        playGlitch();
      },
      
      weirdNickname: () => {
        showMessage(randomChoice(messages.nicknames), { color: '#ff00ff' });
      },
      
      fakeAchievement: () => {
        const fakeAchs = [
          { icon: 'ğŸ­', name: 'Ø§Ù„ÙØ§Ø±Øº', desc: 'Ù„Ù… ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹' },
          { icon: 'â“', name: '???', desc: '???' },
          { icon: 'ğŸ¤·', name: 'Ø§Ù„Ù…Ø­ØªØ§Ø±', desc: 'Ù„ï¿½ï¿½Ø§Ø°Ø§ Ø£Ù†Øª Ù‡Ù†Ø§ØŸ' },
          { icon: 'ğŸ’©', name: 'Ø§Ù„Ø¨Ø·Ù„', desc: 'ÙˆØ§Ùˆ' }
        ];
        const fake = randomChoice(fakeAchs);
        
        const container = document.getElementById('achievement-container');
        const elem = document.createElement('div');
        elem.className = 'achievement';
        elem.innerHTML = `
          <span style="font-size: 2rem;">${fake.icon}</span>
          <div>
            <div style="color: #888; font-size: 0.8rem;">Ø¥Ù†Ø¬Ø§Ø² ÙˆÙ‡Ù…ÙŠ</div>
            <div style="color: #fff; font-size: 1.2rem;">${fake.name}</div>
            <div style="color: #666; font-size: 0.9rem;">${fake.desc}</div>
          </div>
        `;
        container.appendChild(elem);
        
        setTimeout(() => elem.remove(), 3000);
      },
      
      // ğŸ§ª Absurd Events
      flipPage: () => {
        app.classList.add('upside-down');
        showMessage('ØŸØŸØŸ', { color: '#ff0000' });
        setTimeout(() => app.classList.remove('upside-down'), 5000);
      },
      
      mirrorPage: () => {
        app.classList.add('mirrored');
        setTimeout(() => app.classList.remove('mirrored'), 5000);
      },
      
      invertColors: () => {
        document.body.classList.add('inverted');
        playGlitch();
        setTimeout(() => document.body.classList.remove('inverted'), 3000);
      },
      
      glitchText: () => {
        mainText.classList.add('glitch');
        mainText.textContent = randomChoice(['ERR0R', 'â–ˆâ–ˆâ–ˆâ–ˆ', '?????', 'HELP', '01101']);
        playGlitch();
        setTimeout(() => {
          mainText.classList.remove('glitch');
          mainText.textContent = '.';
        }, 3000);
      },
      
      randomLanguage: () => {
        const phrases = [
          { text: 'Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾?', lang: 'ru' },
          { text: 'è¿™æ˜¯ä»€ä¹ˆï¼Ÿ', lang: 'zh' },
          { text: 'ãªã«ï¼Ÿ', lang: 'ja' },
          { text: 'Î¤Î¹ ÎµÎ¯Î½Î±Î¹ Î±Ï…Ï„ÏŒ;', lang: 'el' },
          { text: '××” ×–×”?', lang: 'he' }
        ];
        const phrase = randomChoice(phrases);
        showMessage(phrase.text, { size: '2rem', duration: 3000 });
      },
      
      meaninglessButtons: () => {
        const container = document.createElement('div');
        container.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; display: flex; gap: 10px; flex-wrap: wrap; max-width: 80%;';
        
        const labels = ['Ø´ÙŠØ¡', 'Ù„Ø§ Ø´ÙŠØ¡', 'Ø±Ø¨Ù…Ø§', 'Ù†ï¿½ï¿½Ù…ØŸ', 'Ù„Ø§.', '...', '???', '!!!'];
        labels.forEach(label => {
          const btn = document.createElement('button');
          btn.textContent = label;
          btn.style.cssText = 'padding: 10px 20px; background: transparent; border: 1px solid #666; color: #666; font-family: VT323, monospace; cursor: pointer;';
          btn.onclick = () => {
            btn.textContent = 'ğŸ˜';
            setTimeout(() => btn.textContent = label, 500);
          };
          container.appendChild(btn);
        });
        
        document.body.appendChild(container);
        setTimeout(() => container.remove(), 8000);
      },
      
      // ğŸŒ€ Visual Events
      floatingWeirdBoxes: () => {
        const container = document.getElementById('weird-boxes-container');
        const shapes = ['â¬›', 'ğŸŸ¥', 'ğŸŸ¦', 'ğŸŸ©', 'ğŸŸ¨', 'ğŸŸª', 'â¬œ', 'ğŸ”¶', 'ğŸ”·', 'â—¼ï¸', 'â—»ï¸', 'â–ªï¸'];
        const messages = ['ğŸ‘ï¸', 'ØŸØŸØŸ', '!!!', '...', 'ğŸ˜ˆ', 'ğŸ‘»', 'ğŸ’€', 'ğŸ”¥', 'âš¡'];
        
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            const box = document.createElement('div');
            const isMessage = chance(30);
            box.textContent = isMessage ? randomChoice(messages) : randomChoice(shapes);
            box.style.cssText = `
              position: absolute;
              left: ${random(-10, 110)}%;
              top: ${random(-10, 110)}%;
              font-size: ${random(20, 80)}px;
              animation: float ${random(3, 8)}s ease-in-out infinite;
              opacity: ${Math.random() * 0.7 + 0.3};
              pointer-events: ${isMessage ? 'auto' : 'none'};
              cursor: ${isMessage ? 'pointer' : 'default'};
              z-index: ${isMessage ? '40' : '30'};
              ${chance(50) ? `animation-direction: reverse;` : ''}
              ${chance(30) ? `transform: rotate(${random(-45, 45)}deg);` : ''}
            `;
            
            if (isMessage) {
              box.onclick = () => {
                box.style.fontSize = '100px';
                box.style.transition = 'all 0.3s';
                playGlitch();
                setTimeout(() => box.remove(), 300);
                showMessage(randomChoice(['ÙˆØ¬Ø¯ØªÙ†ÙŠ!', 'Ø¢Ø®!', 'ØªÙˆÙ‚Ù!', 'Ù„Ù…Ø§Ø°Ø§ØŸ']), { 
                  color: '#ff00ff', 
                  position: 'follow' 
                });
              };
            }
            
            container.appendChild(box);
            setTimeout(() => box.remove(), random(5000, 12000));
          }, i * 300);
        }
        
        setTimeout(() => {
          container.innerHTML = '';
        }, 15000);
      },
      
      tenSecondChallenge: () => {
        const container = document.createElement('div');
        container.style.cssText = `
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.95);
          z-index: 10000;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          font-family: VT323, monospace;
        `;
        
        let timeLeft = 10;
        let targetClicks = random(15, 25);
        let clicks = 0;
        
        container.innerHTML = `
          <div style="color: #ff0000; font-size: 4rem; margin-bottom: 20px; animation: pulse-red 0.5s infinite;">â° ${timeLeft}s</div>
          <div style="color: #ffff00; font-size: 2rem; margin-bottom: 30px;">Ø§Ø¶ØºØ· ${targetClicks} Ù…Ø±Ø© Ø¨Ø³Ø±Ø¹Ø©!</div>
          <div style="color: #00ff00; font-size: 3rem; margin-bottom: 30px;" id="challenge-counter">0 / ${targetClicks}</div>
          <button id="challenge-btn" style="padding: 60px 100px; background: linear-gradient(135deg, #ff0000, #ff6600); border: 5px solid #ffff00; color: white; font-size: 4rem; cursor: pointer; border-radius: 20px; box-shadow: 0 0 50px #ff0000; transition: all 0.1s;">Ø§Ø¶ØºØ·!</button>
        `;
        
        document.body.appendChild(container);
        
        const timerDisplay = container.querySelector('div');
        const counter = container.querySelector('#challenge-counter');
        const btn = container.querySelector('#challenge-btn');
        
        btn.onclick = () => {
          clicks++;
          counter.textContent = `${clicks} / ${targetClicks}`;
          btn.style.transform = 'scale(0.9) rotate(' + random(-5, 5) + 'deg)';
          playTone(400 + clicks * 20, 0.05);
          setTimeout(() => btn.style.transform = 'scale(1)', 50);
          
          if (clicks >= targetClicks) {
            clearInterval(challengeInterval);
            container.innerHTML = `
              <div style="color: #00ff00; font-size: 5rem; animation: spin 0.5s;">ğŸ†</div>
              <div style="color: #00ff00; font-size: 3rem; margin-top: 20px;">Ù†Ø¬Ø­Øª!</div>
              <div style="color: #ffff00; font-size: 1.5rem; margin-top: 10px;">Ø£Ù†Øª Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹! âš¡</div>
            `;
            for (let i = 0; i < 3; i++) {
              setTimeout(() => playTone(600 + i * 200, 0.2), i * 100);
            }
            setTimeout(() => container.remove(), 3000);
          }
        };
        
        const challengeInterval = setInterval(() => {
          timeLeft--;
          timerDisplay.innerHTML = `<div style="color: #ff0000; font-size: 4rem; margin-bottom: 20px; animation: pulse-red 0.5s infinite;">â° ${timeLeft}s</div>`;
          
          if (timeLeft <= 0) {
            clearInterval(challengeInterval);
            container.innerHTML = `
              <div style="color: #ff0000; font-size: 5rem;">â°</div>
              <div style="color: #ff0000; font-size: 3rem; margin-top: 20px;">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!</div>
              <div style="color: #666; font-size: 1.5rem; margin-top: 10px;">ÙˆØµÙ„Øª Ø¥Ù„Ù‰ ${clicks} / ${targetClicks}</div>
            `;
            playGlitch();
            setTimeout(() => container.remove(), 3000);
          }
        }, 1000);
      },
      
      fallingBoxes: () => {
        const container = document.getElementById('weird-boxes-container');
        const emojis = ['ğŸ“¦', 'ğŸ', 'ğŸ²', 'ğŸ§Š', 'ğŸ’', 'â¬›', 'ğŸŸ¥', 'ğŸŸ¦', 'ğŸŸ©'];
        
        for (let i = 0; i < 30; i++) {
          setTimeout(() => {
            const box = document.createElement('div');
            box.textContent = randomChoice(emojis);
            const size = random(30, 80);
            box.style.cssText = `
              position: absolute;
              left: ${random(0, 100)}%;
              top: -100px;
              font-size: ${size}px;
              pointer-events: auto;
              cursor: pointer;
              transition: top ${random(2, 5)}s linear;
              z-index: 40;
            `;
            
            container.appendChild(box);
            
            box.onclick = () => {
              box.textContent = 'ğŸ’¥';
              box.style.fontSize = size * 1.5 + 'px';
              playTone(800, 0.1);
              setTimeout(() => box.remove(), 200);
              showMessage('+1', { color: '#00ff00', size: '2rem', duration: 500, position: 'follow' });
            };
            
            setTimeout(() => {
              box.style.top = '110%';
            }, 50);
            
            setTimeout(() => box.remove(), 6000);
          }, i * 200);
        }
      },
      
      screenShake: () => {
        app.classList.add('shake');
        playGlitch();
        setTimeout(() => app.classList.remove('shake'), 2000);
      },
      
      staticNoise: () => {
        const noise = document.createElement('div');
        noise.className = 'noise';
        noise.style.opacity = '0.3';
        document.body.appendChild(noise);
        playGlitch();
        setTimeout(() => noise.remove(), 2000);
      },
      
      scanlines: () => {
        document.body.classList.add('scanlines');
        setTimeout(() => document.body.classList.remove('scanlines'), 10000);
      },
      
      randomZoom: () => {
        const zoom = random(50, 200);
        app.style.transform = `scale(${zoom / 100})`;
        setTimeout(() => app.style.transform = '', 2000);
      },
      
      flicker: () => {
        app.classList.add('flicker');
        setTimeout(() => app.classList.remove('flicker'), 3000);
      },
      
      colorFlash: () => {
        const colors = ['#ff0000', '#00ff00', '#0000ff', '#ff00ff', '#ffff00', '#00ffff'];
        let i = 0;
        const flash = setInterval(() => {
          document.body.style.backgroundColor = colors[i % colors.length];
          i++;
        }, 100);
        setTimeout(() => {
          clearInterval(flash);
          document.body.style.backgroundColor = '#000';
        }, 2000);
      },
      
      // ğŸ•¹ï¸ Mini Games
      dontPress: () => {
        const btn = document.createElement('button');
        btn.textContent = 'Ù„Ø§ ØªØ¶ØºØ·';
        btn.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          padding: 20px 40px;
          background: #ff0000;
          border: none;
          color: white;
          font-size: 1.5rem;
          font-family: VT323, monospace;
          cursor: pointer;
          z-index: 1000;
          animation: pulse-red 1s infinite;
        `;
        
        btn.onclick = () => {
          showMessage('Ù‚Ù„Øª Ù„Ø§ ØªØ¶ØºØ·! ğŸ˜ ', { color: '#ff0000', size: '2rem' });
          playGlitch();
          btn.remove();
        };
        
        document.body.appendChild(btn);
        setTimeout(() => {
          if (btn.parentNode) {
            showMessage('Ø£Ø­Ø³Ù†Øª! Ù„Ù… ØªØ¶ØºØ· ğŸ‘', { color: '#00ff00' });
            showAchievement('patience');
            btn.remove();
          }
        }, 10000);
      },
      
      waitGame: () => {
        const counter = document.createElement('div');
        counter.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 4rem;
          font-family: VT323, monospace;
          color: #00ff00;
          z-index: 1000;
        `;
        
        let seconds = 10;
        counter.textContent = seconds;
        document.body.appendChild(counter);
        
        const interval = setInterval(() => {
          seconds--;
          counter.textContent = seconds;
          playTone(440 + (10 - seconds) * 50, 0.1);
          
          if (seconds <= 0) {
            clearInterval(interval);
            counter.textContent = 'ğŸ‰';
            showMessage('Ø£Ù†Øª ØµØ¨ÙˆØ±!', { color: '#00ff00', size: '2rem' });
            showAchievement('patience');
            setTimeout(() => counter.remove(), 2000);
          }
        }, 1000);
      },
      
      holdButton: () => {
        const btn = document.createElement('button');
        btn.textContent = 'Ø§Ù…Ø³ï¿½ï¿½';
        btn.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          padding: 30px 60px;
          background: #333;
          border: 2px solid #00ff00;
          color: #00ff00;
          font-size: 1.5rem;
          font-family: VT323, monospace;
          cursor: pointer;
          z-index: 1000;
        `;
        
        let holding = false;
        let holdTime = 0;
        let interval;
        
        btn.onmousedown = () => {
          holding = true;
          interval = setInterval(() => {
            if (holding) {
              holdTime += 100;
              btn.textContent = `${(holdTime / 1000).toFixed(1)}s`;
              btn.style.transform = `translate(-50%, -50%) scale(${1 + holdTime / 5000})`;
            }
          }, 100);
        };
        
        btn.onmouseup = btn.onmouseleave = () => {
          holding = false;
          clearInterval(interval);
          if (holdTime >= 5000) {
            showMessage('ï¿½ï¿½ÙˆÙŠ! ï¿½ï¿½ï¿½', { color: '#00ff00', size: '2rem' });
          } else {
            showMessage('Ø¶Ø¹ÙŠÙ...', { color: '#ff6600' });
          }
          btn.remove();
        };
        
        document.body.appendChild(btn);
      },
      
      clickCounter: () => {
        const container = document.createElement('div');
        container.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          text-align: center;
          z-index: 1000;
        `;
        
        let clicks = 0;
        const target = random(20, 50);
        
        container.innerHTML = `
          <div style="font-size: 3rem; font-family: VT323, monospace; color: #00ff00;" id="click-count">0 / ${target}</div>
          <button id="click-btn" style="margin-top: 20px; padding: 30px 60px; background: #ff0000; border: none; color: white; font-size: 2rem; cursor: pointer;">Ø§Ø¶ï¿½ï¿½ï¿½ï¿½!</button>
        `;
        
        document.body.appendChild(container);
        
        const countDisplay = container.querySelector('#click-count');
        const clickBtn = container.querySelector('#click-btn');
        
        clickBtn.onclick = () => {
          clicks++;
          countDisplay.textContent = `${clicks} / ${target}`;
          playTone(200 + clicks * 10, 0.05);
          
          if (clicks >= target) {
            showMessage('ÙØ²Øª Ø¨Ù„Ø§ Ø´ÙŠØ¡! ğŸ‰', { color: '#00ff00', size: '2rem' });
            container.remove();
          }
        };
        
        setTimeout(() => {
          if (container.parentNode) {
            showMessage('Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!', { color: '#ff0000' });
            container.remove();
          }
        }, 15000);
      },
      
      doNothing: () => {
        const msg = document.createElement('div');
        msg.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 2rem;
          font-family: VT323, monospace;
          color: #666;
          z-index: 1000;
        `;
        msg.textContent = 'Ù„Ø§ ØªØ³ÙˆÙŠ Ø´ÙŠ';
        document.body.appendChild(msg);
        
        let moved = false;
        const detectMove = () => { moved = true; };
        document.addEventListener('mousemove', detectMove);
        document.addEventListener('click', detectMove);
        document.addEventListener('keydown', detectMove);
        
        setTimeout(() => {
          document.removeEventListener('mousemove', detectMove);
          document.removeEventListener('click', detectMove);
          document.removeEventListener('keydown', detectMove);
          msg.remove();
          
          if (!moved) {
            showMessage('Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ø¬ÙŠØ¯ ÙÙŠ Ø§Ù„Ù„Ø§Ø´ÙŠØ¡', { color: '#00ff00', duration: 3000 });
          } else {
            showMessage('ÙØ´Ù„Øª! Ø³ÙˆÙŠØª Ø´ÙŠ', { color: '#ff0000' });
          }
        }, 5000);
      },
      
      // ğŸ•³ï¸ Secrets
      secretRoom: () => {
        const room = document.createElement('div');
        room.style.cssText = `
          position: fixed;
          inset: 0;
          background: #000;
          z-index: 10000;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          font-family: VT323, monospace;
        `;
        
        room.innerHTML = `
          <div style="color: #00ff00; font-size: 3rem; margin-bottom: 20px;">ğŸšª</div>
          <div style="color: #00ff00; font-size: 1.5rem;">ÙˆØ¬Ø¯Øª Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø³Ø±ÙŠØ©</div>
          <div style="color: #666; font-size: 1rem; margin-top: 10px;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ù‡Ù†Ø§</div>
          <div style="color: #333; font-size: 0.8rem; margin-top: 20px;">Ø£Ùˆ Ø±Ø¨Ù…Ø§...</div>
          <button onclick="this.parentNode.remove()" style="margin-top: 30px; padding: 10px 30px; background: transparent; border: 1px solid #00ff00; color: #00ff00; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
        `;
        
        document.body.appendChild(room);
        showAchievement('secret_found');
        
        if (!memory.secrets.includes('room')) {
          memory.secrets.push('room');
          localStorage.setItem('weird_secrets', JSON.stringify(memory.secrets));
        }
      },
      
      hiddenMessage: () => {
        const msg = document.createElement('div');
        msg.style.cssText = `
          position: fixed;
          bottom: 5px;
          right: 5px;
          font-size: 8px;
          color: #111;
          font-family: monospace;
          z-index: 1000;
        `;
        msg.textContent = 'Ø£Ù†Øª ØªÙ‚Ø±Ø£ Ù‡Ø°Ø§ØŸ';
        document.body.appendChild(msg);
        setTimeout(() => msg.remove(), 5000);
      },
      
      fakeEnding: () => {
        const ending = document.createElement('div');
        ending.style.cssText = `
          position: fixed;
          inset: 0;
          background: #000;
          z-index: 10000;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          font-family: VT323, monospace;
          color: white;
        `;
        
        ending.innerHTML = `
          <div style="font-size: 3rem; margin-bottom: 20px;">Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</div>
          <div style="font-size: 1rem; color: #666;">Ø´ÙƒØ±Ø§Ù‹ Ù„Ù„Ø¹Ø¨</div>
        `;
        
        document.body.appendChild(ending);
        
        setTimeout(() => {
          ending.innerHTML = `
            <div style="font-size: 2rem; color: #ff0000;">ÙƒØ°Ø¨Øª Ø¹Ù„ÙŠÙƒ ğŸ˜ˆ</div>
          `;
          playGlitch();
          
          setTimeout(() => ending.remove(), 2000);
        }, 3000);
      },
      
      neverEnding: () => {
        showMessage('Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªÙ‚ØªØ±Ø¨...', { duration: 2000 });
        setTimeout(() => showMessage('ØªÙ‚ØªØ±Ø¨ Ø£ÙƒØ«Ø±...', { duration: 2000 }), 2500);
        setTimeout(() => showMessage('Ø§Ù„Ø¢Ù†!', { duration: 1000 }), 5000);
        setTimeout(() => showMessage('Ù…Ø§Ø²Ù„Øª Ù‡Ù†Ø§ØŸ', { duration: 2000 }), 6500);
        setTimeout(() => showMessage('Ù„Ø§ Ù†Ù‡Ø§ÙŠØ© ğŸ˜‚', { color: '#ff0000', duration: 3000 }), 9000);
      },
      
      // ğŸ˜ˆ Rare Events
      fakeCrash: () => {
        const crash = document.createElement('div');
        crash.style.cssText = `
          position: fixed;
          inset: 0;
          background: #0000aa;
          z-index: 10000;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          font-family: 'Courier New', monospace;
          color: white;
          padding: 40px;
          text-align: center;
        `;
        
        crash.innerHTML = `
          <div style="font-size: 1.5rem; margin-bottom: 20px;">:( Ø­Ø¯Ø« Ø®Ø·Ø£</div>
          <div style="font-size: 0.9rem; color: #aaa;">
            WEIRD_ERROR_0x00000FUN<br><br>
            Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ï¿½ï¿½Ø¨ ÙÙŠ ï¿½ï¿½Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ØŒ Ø§Ø¨Ø­Ø« Ø¹Ù†:<br>
            "Ù„Ù…Ø§Ø°Ø§ Ø£Ø¶ÙŠØ¹ ÙˆÙ‚ØªÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"
          </div>
        `;
        
        document.body.appendChild(crash);
        playGlitch();
        
        setTimeout(() => {
          crash.innerHTML = `<div style="font-size: 2rem;">ğŸ˜œ Ø®Ø¯Ø¹ØªÙƒ!</div>`;
          showAchievement('survivor');
          setTimeout(() => crash.remove(), 2000);
        }, 4000);
      },
      
      siteApologizes: () => {
        const msgs = [
          'Ø¢Ø³Ù...',
          'Ù„Ù… Ø£Ù‚ØµØ¯ Ø¥Ø®Ø§ÙØªÙƒ',
          'Ø£Ù†Ø§ Ù…Ø¬Ø±Ø¯ Ù…ÙˆÙ‚Ø¹',
          'Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†ÙƒÙˆÙ† Ø£ØµØ¯Ù‚Ø§Ø¡ØŸ'
        ];
        
        msgs.forEach((msg, i) => {
          setTimeout(() => {
            showMessage(msg, { color: '#00ffff', duration: 2500 });
          }, i * 3000);
        });
      },
      
      siteKicksYou: () => {
        showMessage('ÙƒÙØ§ÙŠØ©!', { color: '#ff0000', size: '3rem' });
        setTimeout(() => showMessage('Ø§Ø®Ø±Ø¬ Ø§Ù„Ø¢Ù†!', { color: '#ff0000', size: '2rem' }), 2000);
        setTimeout(() => showMessage('...', { duration: 3000 }), 4000);
        setTimeout(() => showMessage('ï¿½ï¿½ÙŠØ¨ ï¿½ï¿½Ø¨Ù‚ ğŸ˜’', { color: '#666' }), 7000);
      },
      
      timeAwareness: () => {
        const hour = new Date().getHours();
        let msg;
        
        if (hour >= 0 && hour < 6) {
          msg = 'Ù„Ù…Ø§Ø°Ø§ Ø£Ù†Øª Ù…Ø³ØªÙŠÙ‚Ø¸ØŸ Ù†Ù…!';
          showAchievement('night_owl');
        } else if (hour >= 6 && hour < 12) {
          msg = 'ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±... Ø£Ø¸Ù†';
        } else if (hour >= 12 && hour < 18) {
          msg = 'ÙˆÙ‚Øª Ø§Ù„ØºØ¯Ø§Ø¡ØŸ';
        } else {
          msg = 'Ù…Ø³Ø§Ø¡ ØºØ±ÙŠØ¨';
        }
        
        showMessage(msg, { color: '#ffff00', duration: 3000 });
      },
      
      versionAwareness: () => {
        showMessage(`Version: ${SITE_VERSION}`, { color: '#666', size: '1rem', duration: 3000 });
        setTimeout(() => {
          showMessage('Ù„Ù‚Ø¯ ï¿½ï¿½ØºÙŠØ±Øª.', { color: '#ff00ff', duration: 2000 });
        }, 3500);
      },
      
      cursorTransform: () => {
        const shapes = ['â¤ï¸', 'ğŸ‘ï¸', 'ğŸ”¥', 'ğŸ’€', 'ğŸ‘½', 'ğŸ¤–'];
        const shape = randomChoice(shapes);
        cursor.textContent = shape;
        cursor.style.border = 'none';
        cursor.style.fontSize = '24px';
        cursor.style.display = 'flex';
        cursor.style.alignItems = 'center';
        cursor.style.justifyContent = 'center';
        
        setTimeout(() => {
          cursor.textContent = '';
          cursor.style.border = '2px solid #00ff00';
          cursor.style.fontSize = '';
        }, 10000);
      },
      
      rainbowText: () => {
        mainText.classList.add('rainbow');
        mainText.textContent = 'Ø£Ù„ÙˆØ§Ù†!';
        setTimeout(() => {
          mainText.classList.remove('rainbow');
          mainText.textContent = '.';
        }, 5000);
      },
      
      floatingEmojis: () => {
        const emojis = ['ğŸ˜‚', 'ğŸ¤”', 'ğŸ˜±', 'ğŸ¤¯', 'ğŸ‘»', 'ğŸ’€', 'ğŸ­', 'ğŸŒ€', 'â“', 'â€¼ï¸'];
        
        for (let i = 0; i < 20; i++) {
          setTimeout(() => {
            const emoji = document.createElement('div');
            emoji.textContent = randomChoice(emojis);
            emoji.style.cssText = `
              position: fixed;
              left: ${random(0, 100)}%;
              top: 100%;
              font-size: ${random(20, 50)}px;
              animation: float ${random(3, 6)}s ease-out forwards;
              pointer-events: none;
              z-index: 1000;
            `;
            document.body.appendChild(emoji);
            setTimeout(() => emoji.remove(), 6000);
          }, i * 200);
        }
      },
      
      matrixRain: () => {
        const chars = 'Ø§Ø¨ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ï¿½ï¿½ÙŠ0123456789';
        const container = document.createElement('div');
        container.style.cssText = 'position: fixed; inset: 0; pointer-events: none; z-index: 1000; overflow: hidden;';
        
        for (let i = 0; i < 50; i++) {
          const drop = document.createElement('div');
          drop.style.cssText = `
            position: absolute;
            left: ${random(0, 100)}%;
            top: -50px;
            color: #00ff00;
            font-family: monospace;
            font-size: 14px;
            animation: fall ${random(2, 5)}s linear forwards;
            opacity: ${Math.random()};
          `;
          
          let text = '';
          for (let j = 0; j < random(5, 20); j++) {
            text += chars[random(0, chars.length - 1)] + '<br>';
          }
          drop.innerHTML = text;
          container.appendChild(drop);
        }
        
        const style = document.createElement('style');
        style.textContent = '@keyframes fall { to { top: 100%; } }';
        document.head.appendChild(style);
        
        document.body.appendChild(container);
        setTimeout(() => {
          container.remove();
          style.remove();
        }, 6000);
      },
      
      existentialQuestion: () => {
        showMessage(randomChoice(messages.existential), { 
          color: '#ffffff', 
          size: '2rem', 
          duration: 5000 
        });
      }
    };
    
    // ========== EVENT RUNNER ==========
    const eventKeys = Object.keys(events);
    const rareEvents = ['fakeCrash', 'siteApologizes', 'siteKicksYou', 'secretRoom', 'fakeEnding'];
    const usedEvents = new Set();
    
    function runRandomEvent() {
      let availableEvents = eventKeys.filter(e => !usedEvents.has(e));
      
      if (availableEvents.length === 0) {
        usedEvents.clear();
        availableEvents = eventKeys;
      }
      
      // Rare events have lower chance
      let eventName;
      if (chance(5) && rareEvents.some(e => availableEvents.includes(e))) {
        eventName = randomChoice(rareEvents.filter(e => availableEvents.includes(e)));
      } else {
        eventName = randomChoice(availableEvents.filter(e => !rareEvents.includes(e)));
      }
      
      if (eventName) {
        usedEvents.add(eventName);
        events[eventName]();
      }
    }
    
    // ========== GAMES SYSTEM ==========
    const games = {
      speedClicker: {
        name: 'âš¡ Ù†Ù‚Ø± Ø³Ø±ÙŠØ¹',
        desc: 'Ø§Ø¶ØºØ· 50 Ù…Ø±Ø© ÙÙŠ 10 Ø«ÙˆØ§Ù†ÙŠ',
        cheat: 'Ø§Ø¶ØºØ· Ù…Ø·ÙˆÙ„Ø§Ù‹ Ù„ØºØ´',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          let clicks = 0;
          let timeLeft = 10;
          let cheatActivated = false;
          
          container.innerHTML = `
            <div style="color: #ff0000; font-size: 4rem; margin-bottom: 20px;" id="click-counter">0 / 50</div>
            <div style="color: #ffff00; font-size: 2rem; margin-bottom: 30px;" id="timer">10s</div>
            <button id="click-game-btn" style="padding: 40px 80px; background: #ff0000; border: none; color: white; font-size: 3rem; cursor: pointer; border-radius: 10px;">Ø§ï¿½ï¿½Øºï¿½ï¿½!</button>
            <button onclick="this.parentNode.remove()" style="margin-top: 30px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const counter = container.querySelector('#click-counter');
          const timer = container.querySelector('#timer');
          const btn = container.querySelector('#click-game-btn');
          
          // Cheat: Hold button for 2 seconds
          let holdTimeout;
          btn.addEventListener('mousedown', () => {
            holdTimeout = setTimeout(() => {
              if (!cheatActivated) {
                cheatActivated = true;
                btn.style.background = '#00ff00';
                btn.textContent = 'Ø§Ù„ØºØ´ Ù…ÙÙØ¹Ù‘Ù„! ğŸ˜ˆ';
                playTone(800, 0.2);
                setTimeout(() => {
                  btn.textContent = 'Ø§Ø¶ØºØ·!';
                }, 1000);
              }
            }, 2000);
          });
          
          btn.addEventListener('mouseup', () => {
            clearTimeout(holdTimeout);
          });
          
          btn.onclick = () => {
            clicks += cheatActivated ? 5 : 1;
            counter.textContent = `${clicks} / 50`;
            btn.style.transform = 'scale(0.95)';
            setTimeout(() => btn.style.transform = 'scale(1)', 50);
            playTone(400 + clicks * 10, 0.05);
            
            if (clicks >= 50) {
              clearInterval(gameInterval);
              container.innerHTML = `
                <div style="color: #00ff00; font-size: 4rem;">ğŸ‰ ÙØ²Øª!</div>
                ${cheatActivated ? '<div style="color: #ff6600; font-size: 1.5rem; margin-top: 20px;">...Ø¨Ø§Ù„ØºØ´ ğŸ˜</div>' : ''}
              `;
              setTimeout(() => container.remove(), 3000);
            }
          };
          
          const gameInterval = setInterval(() => {
            timeLeft--;
            timer.textContent = `${timeLeft}s`;
            
            if (timeLeft <= 0) {
              clearInterval(gameInterval);
              container.innerHTML = `<div style="color: #ff0000; font-size: 4rem;">â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!</div>`;
              setTimeout(() => container.remove(), 2000);
            }
          }, 1000);
        }
      },
      
      memoryGame: {
        name: 'ğŸ§  Ø°Ø§ÙƒØ±Ø©',
        desc: 'Ø§Ø­ÙØ¸ Ø§Ù„ØªØ³Ù„Ø³Ù„',
        cheat: 'Ø´ï¿½ï¿½Ù‡Ø¯ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„ Ù„Ù„ØªØ³Ù„Ø³Ù„',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00'];
          const colorNames = ['Ø£Ø­Ù…Ø±', 'Ø£Ø®Ø¶Ø±', 'Ø£Ø²Ø±Ù‚', 'Ø£ØµÙØ±'];
          let sequence = [];
          let playerSequence = [];
          let level = 1;
          
          container.innerHTML = `
            <div style="color: #00ffff; font-size: 2rem; margin-bottom: 30px;">Ø§ï¿½ï¿½Ù…Ø³ØªÙˆÙ‰: <span id="level">1</span></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
              ${colors.map((color, i) => `<button class="memory-btn" data-index="${i}" style="width: 100px; height: 100px; background: ${color}; border: 3px solid #fff; cursor: pointer; border-radius: 10px;"></button>`).join('')}
            </div>
            <div style="color: #666; font-size: 1.2rem;">Ø§Ù†ØªØ¸Ø± Ø§Ù„ØªØ³Ù„Ø³Ù„...</div>
            <button onclick="this.parentNode.remove()" style="margin-top: 30px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const levelDisplay = container.querySelector('#level');
          const buttons = container.querySelectorAll('.memory-btn');
          
          function addToSequence() {
            sequence.push(random(0, 3));
            // CHEAT: Log sequence to console
            console.log('ğŸ® Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„ï¿½ï¿½Ø±ÙŠ:', sequence.map(i => colorNames[i]).join(' â†’ '));
          }
          
          function playSequence() {
            let i = 0;
            const interval = setInterval(() => {
              if (i < sequence.length) {
                const btn = buttons[sequence[i]];
                btn.style.transform = 'scale(1.1)';
                btn.style.boxShadow = '0 0 30px ' + colors[sequence[i]];
                playTone(400 + sequence[i] * 100, 0.2);
                
                setTimeout(() => {
                  btn.style.transform = 'scale(1)';
                  btn.style.boxShadow = 'none';
                }, 300);
                
                i++;
              } else {
                clearInterval(interval);
                playerSequence = [];
              }
            }, 600);
          }
          
          buttons.forEach((btn, index) => {
            btn.onclick = () => {
              playerSequence.push(index);
              btn.style.transform = 'scale(0.9)';
              playTone(400 + index * 100, 0.1);
              setTimeout(() => btn.style.transform = 'scale(1)', 100);
              
              // Check if wrong
              if (playerSequence[playerSequence.length - 1] !== sequence[playerSequence.length - 1]) {
                container.innerHTML = `
                  <div style="color: #ff0000; font-size: 4rem;">âŒ Ø®Ø·Ø£!</div>
                  <div style="color: #666; font-size: 1.5rem; margin-top: 20px;">ÙˆØµÙ„Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ ${level}</div>
                `;
                playGlitch();
                setTimeout(() => container.remove(), 3000);
                return;
              }
              
              // Check if completed sequence
              if (playerSequence.length === sequence.length) {
                level++;
                levelDisplay.textContent = level;
                playTone(800, 0.3);
                
                if (level > 10) {
                  container.innerHTML = `
                    <div style="color: #00ff00; font-size: 4rem;">ğŸ† Ø¨Ø·Ù„!</div>
                    <div style="color: #666; font-size: 1.5rem; margin-top: 20px;">Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ù„Ø¹Ø¨Ø©!</div>
                  `;
                  setTimeout(() => container.remove(), 3000);
                  return;
                }
                
                setTimeout(() => {
                  addToSequence();
                  playSequence();
                }, 1000);
              }
            };
          });
          
          // Start game
          addToSequence();
          setTimeout(() => playSequence(), 1000);
        }
      },
      
      reactionTest: {
        name: 'âš¡ Ø±Ø¯ ÙØ¹Ù„',
        desc: 'Ø§Ø¶ØºØ· Ø¹Ù†Ø¯Ù…ï¿½ï¿½ ÙŠØªØ­ÙˆÙ„ Ù„Ù„ï¿½ï¿½Ø®Ø¶Ø±',
        cheat: 'Ø§Ø¶ØºØ· Ø§Ù„ï¿½ï¿½Ø± Ø§Ù„Ø£ÙŠÙ…Ù† Ù„Ù„Ù…Ø§ÙˆØ³',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          let startTime;
          let canClick = false;
          let cheatUsed = false;
          
          container.innerHTML = `
            <div style="color: #ffffff; font-size: 2rem; margin-bottom: 30px;">Ø§Ù†ØªØ¸Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø±...</div>
            <div id="reaction-box" style="width: 300px; height: 300px; background: #ff0000; border: 5px solid #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; border-radius: 20px;">
              Ø§Ù†ØªØ¸Ø±...
            </div>
            <div id="result" style="margin-top: 30px; font-size: 1.5rem; color: #666; min-height: 40px;"></div>
            <button onclick="this.parentNode.remove()" style="margin-top: 20px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const box = container.querySelector('#reaction-box');
          const result = container.querySelector('#result');
          
          // Cheat: Right click to see countdown
          box.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            cheatUsed = true;
            result.textContent = 'ğŸ‘ï¸ ÙˆØ¶Ø¹ Ø§Ù„ØºØ´ Ù…ÙÙØ¹Ù‘Ù„';
            result.style.color = '#ff6600';
          });
          
          box.onclick = () => {
            if (canClick) {
              const reactionTime = Date.now() - startTime;
              box.style.background = '#ffff00';
              box.textContent = 'âœ“';
              
              let message = '';
              if (reactionTime < 200) {
                message = 'Ø®Ø§Ø±Ù‚! ğŸš€';
              } else if (reactionTime < 300) {
                message = 'Ù…Ù…ØªØ§Ø²! âš¡';
              } else if (reactionTime < 500) {
                message = 'Ø¬ÙŠØ¯ ğŸ‘';
              } else {
                message = 'Ø¨Ø·ÙŠØ¡ ğŸŒ';
              }
              
              result.textContent = `${reactionTime}ms - ${message}${cheatUsed ? ' (ØºØ´ ğŸ˜)' : ''}`;
              result.style.color = '#00ff00';
              playTone(800, 0.2);
              
              setTimeout(() => {
                startGame();
              }, 2000);
            } else {
              box.style.background = '#800000';
              box.textContent = 'ï¿½ï¿½';
              result.textContent = 'Ù…Ø¨ÙƒØ± Ø¬Ø¯Ø§Ù‹!';
              result.style.color = '#ff0000';
              playGlitch();
              
              setTimeout(() => {
                startGame();
              }, 1500);
            }
          };
          
          function startGame() {
            canClick = false;
            cheatUsed = false;
            box.style.background = '#ff0000';
            box.textContent = 'Ø§Ù†ØªØ¸Ø±...';
            result.textContent = '';
            
            const waitTime = random(2000, 5000);
            
            // Cheat countdown
            if (cheatUsed) {
              let countdown = Math.ceil(waitTime / 1000);
              const countInterval = setInterval(() => {
                result.textContent = `${countdown}s...`;
                countdown--;
                if (countdown < 0) clearInterval(countInterval);
              }, 1000);
            }
            
            setTimeout(() => {
              box.style.background = '#00ff00';
              box.textContent = 'Ø§Ù„Ø¢Ù†!';
              canClick = true;
              startTime = Date.now();
              playTone(600, 0.1);
            }, waitTime);
          }
          
          startGame();
        }
      },
      
      impossibleMaze: {
        name: 'ğŸŒ€ Ù…ØªØ§Ù‡Ø© Ù…Ø³ØªØ­ÙŠï¿½ï¿½Ø©',
        desc: 'ÙˆØµÙ„ Ù„Ù„Ù‡Ø¯Ù Ø¯ÙˆÙ† Ù„Ù…Ø³ Ø§Ù„Ø¬Ø¯Ø±Ø§Ù†',
        cheat: 'Ø§Ø¶ØºØ· Shift Ù„Ù„Ø·ÙŠØ±Ø§Ù†',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          let playerX = 30;
          let playerY = 30;
          let flying = false;
          
          container.innerHTML = `
            <div style="color: #00ffff; font-size: 2rem; margin-bottom: 20px;">ÙˆØµÙ„ Ù„Ù„Ù†Ø¬Ù…Ø© ğŸŒŸ</div>
            <canvas id="maze-canvas" width="400" height="400" style="border: 3px solid #00ff00; background: #000;"></canvas>
            <div id="maze-status" style="margin-top: 20px; font-size: 1.3rem; color: #666; min-height: 30px;"></div>
            <button onclick="this.parentNode.remove()" style="margin-top: 20px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const canvas = container.querySelector('#maze-canvas');
          const ctx = canvas.getContext('2d');
          const status = container.querySelector('#maze-status');
          
          const walls = [
            { x: 0, y: 100, w: 300, h: 20 },
            { x: 150, y: 200, w: 250, h: 20 },
            { x: 100, y: 280, w: 200, h: 20 },
          ];
          
          const goal = { x: 350, y: 350, r: 20 };
          
          // Cheat detection
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Shift') {
              flying = true;
              status.textContent = 'ğŸš ÙˆØ¶Ø¹ Ø§Ù„Ø·ÙŠØ±Ø§Ù† Ù…ÙÙØ¹Ù‘Ù„!';
              status.style.color = '#ff6600';
            }
          });
          
          document.addEventListener('keyup', (e) => {
            if (e.key === 'Shift') {
              flying = false;
              status.textContent = '';
            }
          });
          
          canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            playerX = e.clientX - rect.left;
            playerY = e.clientY - rect.top;
            
            // Check wall collision
            if (!flying) {
              for (let wall of walls) {
                if (playerX > wall.x && playerX < wall.x + wall.w &&
                    playerY > wall.y && playerY < wall.y + wall.h) {
                  container.innerHTML = `
                    <div style="color: #ff0000; font-size: 4rem;">ğŸ’¥ Ø®Ø³Ø±Øª!</div>
                    <div style="color: #666; font-size: 1.5rem; margin-top: 20px;">Ù„Ù…ï¿½ï¿½Øª Ø§Ù„Ø¬Ø¯Ø§Ø±</div>
                  `;
                  playGlitch();
                  setTimeout(() => container.remove(), 3000);
                  return;
                }
              }
            }
            
            // Check goal
            const dist = Math.hypot(playerX - goal.x, playerY - goal.y);
            if (dist < goal.r + 10) {
              container.innerHTML = `
                <div style="color: #00ff00; font-size: 4rem;">ğŸŒŸ ÙØ²Øª!</div>
                ${flying ? '<div style="color: #ff6600; font-size: 1.5rem; margin-top: 20px;">...Ø¨Ø§Ù„Ø·ÙŠØ±Ø§Ù† ğŸ˜</div>' : ''}
              `;
              playTone(800, 0.3);
              setTimeout(() => container.remove(), 3000);
            }
          });
          
          function draw() {
            ctx.clearRect(0, 0, 400, 400);
            
            // Draw walls
            ctx.fillStyle = flying ? 'rgba(255, 0, 0, 0.3)' : '#ff0000';
            walls.forEach(wall => {
              ctx.fillRect(wall.x, wall.y, wall.w, wall.h);
            });
            
            // Draw goal
            ctx.fillStyle = '#ffff00';
            ctx.beginPath();
            ctx.arc(goal.x, goal.y, goal.r, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillText('ğŸŒŸ', goal.x - 10, goal.y + 8);
            
            // Draw player
            ctx.fillStyle = flying ? '#00ffff' : '#00ff00';
            ctx.beginPath();
            ctx.arc(playerX, playerY, 10, 0, Math.PI * 2);
            ctx.fill();
            
            if (container.parentNode) {
              requestAnimationFrame(draw);
            }
          }
          
          draw();
        }
      },
      
      numberGuess: {
        name: 'ğŸ”¢ Ø®Ù…Ù‘Ù† Ø§Ù„Ø±Ù‚Ù…',
        desc: 'Ø®Ù…Ù‘Ù† Ø±Ù‚Ù… Ù…Ù† 1-100',
        cheat: 'Ø§Ù„Ø±Ù‚Ù… Ù…ÙƒØªÙˆØ¨ ÙÙŠ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          const targetNumber = random(1, 100);
          let attempts = 0;
          const originalTitle = document.title;
          
          // CHEAT: Show in title
          document.title = `Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ: ${targetNumber}`;
          
          container.innerHTML = `
            <div style="color: #ffffff; font-size: 2.5rem; margin-bottom: 30px;">Ø®Ù…Ù‘Ù† Ø§Ù„Ø±Ù‚Ù… Ù…Ù† 1-100</div>
            <input type="number" id="guess-input" min="1" max="100" style="padding: 15px; font-size: 2rem; width: 200px; text-align: center; background: #222; border: 3px solid #00ff00; color: #00ff00; font-family: VT323, monospace;" placeholder="??">
            <button id="guess-btn" style="margin-top: 20px; padding: 15px 40px; background: #00ff00; border: none; color: #000; font-size: 1.5rem; cursor: pointer; font-family: VT323, monospace;">Ø®Ù…Ù‘Ù†</button>
            <div id="guess-hint" style="margin-top: 30px; font-size: 1.8rem; color: #666; min-height: 40px;"></div>
            <div id="guess-attempts" style="margin-top: 10px; font-size: 1.2rem; color: #888;">Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: 0</div>
            <button onclick="this.parentNode.remove(); document.title = '${originalTitle}';" style="margin-top: 20px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®ï¿½ï¿½ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const input = container.querySelector('#guess-input');
          const btn = container.querySelector('#guess-btn');
          const hint = container.querySelector('#guess-hint');
          const attemptsDisplay = container.querySelector('#guess-attempts');
          
          function makeGuess() {
            const guess = parseInt(input.value);
            
            if (isNaN(guess) || guess < 1 || guess > 100) {
              hint.textContent = 'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ø§Ù‹ Ù…Ù† 1-100!';
              hint.style.color = '#ff0000';
              return;
            }
            
            attempts++;
            attemptsDisplay.textContent = `Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: ${attempts}`;
            
            if (guess === targetNumber) {
              document.title = originalTitle;
              container.innerHTML = `
                <div style="color: #00ff00; font-size: 4rem;">ğŸ‰ ØµØ­!</div>
                <div style="color: #fff; font-size: 2rem; margin-top: 20px;">Ø§Ù„Ø±Ù‚Ù… ÙƒØ§Ù† ${targetNumber}</div>
                <div style="color: #888; font-size: 1.3rem; margin-top: 10px;">${attempts} Ù…Ø­Ø§ÙˆÙ„Ø§Øª</div>
              `;
              playTone(800, 0.3);
              setTimeout(() => container.remove(), 3000);
            } else if (guess < targetNumber) {
              hint.textContent = 'â¬†ï¸ Ø£Ø¹Ù„Ù‰!';
              hint.style.color = '#ffff00';
              playTone(300, 0.1);
            } else {
              hint.textContent = 'â¬‡ï¸ Ø£Ù‚Ù„!';
              hint.style.color = '#ff6600';
              playTone(500, 0.1);
            }
            
            input.value = '';
            input.focus();
          }
          
          btn.onclick = makeGuess;
          input.onkeypress = (e) => {
            if (e.key === 'Enter') makeGuess();
          };
          
          input.focus();
        }
      },
      
      weirdCalculator: {
        name: 'ğŸ”¢ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©',
        desc: 'Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©... Ø£Ùˆ Ø±Ø¨Ù…Ø§ Ù„Ø§',
        cheat: 'Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ØªÙƒØ°Ø¨ Ø¹Ù„ÙŠÙƒ',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          let display = '0';
          let currentNum = '';
          let previousNum = '';
          let operation = null;
          let shouldLie = false;
          
          container.innerHTML = `
            <div style="color: #00ff00; font-size: 2rem; margin-bottom: 20px;">Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù…ÙˆØ«ÙˆÙ‚Ø© 100%</div>
            <div style="background: #1a1a1a; padding: 30px; border: 3px solid #00ff00; border-radius: 10px;">
              <div id="calc-display" style="background: #000; color: #00ff00; padding: 20px; font-size: 3rem; text-align: right; margin-bottom: 20px; min-width: 300px; border: 2px solid #00ff00; font-family: 'Courier New', monospace;">${display}</div>
              <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                <button class="calc-btn" data-num="7" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">7</button>
                <button class="calc-btn" data-num="8" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">8</button>
                <button class="calc-btn" data-num="9" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">9</button>
                <button class="calc-btn" data-op="Ã·" style="padding: 20px; background: #ff6600; border: 2px solid #ff8800; color: #fff; font-size: 1.5rem; cursor: pointer;">Ã·</button>
                
                <button class="calc-btn" data-num="4" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">4</button>
                <button class="calc-btn" data-num="5" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">5</button>
                <button class="calc-btn" data-num="6" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">6</button>
                <button class="calc-btn" data-op="ï¿½ï¿½" style="padding: 20px; background: #ff6600; border: 2px solid #ff8800; color: #fff; font-size: 1.5rem; cursor: pointer;">Ã—</button>
                
                <button class="calc-btn" data-num="1" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">1</button>
                <button class="calc-btn" data-num="2" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">2</button>
                <button class="calc-btn" data-num="3" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">3</button>
                <button class="calc-btn" data-op="-" style="padding: 20px; background: #ff6600; border: 2px solid #ff8800; color: #fff; font-size: 1.5rem; cursor: pointer;">-</button>
                
                <button class="calc-btn" data-num="0" style="padding: 20px; background: #333; border: 2px solid #00ff00; color: #00ff00; font-size: 1.5rem; cursor: pointer;">0</button>
                <button class="calc-btn" data-clear="true" style="padding: 20px; background: #ff0000; border: 2px solid #ff3333; color: #fff; font-size: 1.5rem; cursor: pointer;">C</button>
                <button class="calc-btn" data-equals="true" style="padding: 20px; background: #00ff00; border: 2px solid #00ff00; color: #000; font-size: 1.5rem; cursor: pointer;">=</button>
                <button class="calc-btn" data-op="+" style="padding: 20px; background: #ff6600; border: 2px solid #ff8800; color: #fff; font-size: 1.5rem; cursor: pointer;">+</button>
              </div>
            </div>
            <div id="calc-hint" style="margin-top: 20px; font-size: 1rem; color: #666; min-height: 30px; text-align: center;"></div>
            <button onclick="this.parentNode.remove()" style="margin-top: 20px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const displayElem = container.querySelector('#calc-display');
          const hint = container.querySelector('#calc-hint');
          const buttons = container.querySelectorAll('.calc-btn');
          
          function updateDisplay() {
            displayElem.textContent = display;
          }
          
          function calculate(a, b, op) {
            // 40% chance to lie
            shouldLie = chance(40);
            
            let correctResult;
            switch(op) {
              case '+': correctResult = a + b; break;
              case '-': correctResult = a - b; break;
              case 'Ã—': correctResult = a * b; break;
              case 'Ã·': correctResult = a / b; break;
              default: correctResult = b;
            }
            
            if (shouldLie) {
              // Give wrong answer
              const wrongAnswers = [
                correctResult + random(1, 10),
                correctResult - random(1, 10),
                correctResult * random(2, 3),
                Math.floor(correctResult / 2),
                random(1, 100),
                69,
                420,
                666
              ];
              
              const wrongResult = randomChoice(wrongAnswers);
              
              // Show hint that we're lying
              setTimeout(() => {
                const hints = [
                  'ğŸ¤” Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
                  'ğŸ˜ Ø«Ù‚ Ø¨ÙŠ',
                  'ğŸ‘ï¸ Ø´ÙŠØ¡ Ù…Ø§ Ø®Ø·Ø£...',
                  'ğŸ¤· Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ØµØ¹Ø¨Ø©',
                  'ğŸ˜ˆ Ùƒï¿½ï¿½Ø¨Øª Ø¹Ù„ÙŠÙƒ',
                  'ğŸ­ Ø£Ùˆ Ø±Ø¨Ù…Ø§ Ù„Ø§',
                  'ï¿½ï¿½ï¿½ Ø­Ù‚Ø§Ù‹ØŸ'
                ];
                hint.textContent = randomChoice(hints);
                hint.style.color = '#ff6600';
              }, 500);
              
              return wrongResult;
            } else {
              // Give correct answer
              setTimeout(() => {
                const hints = [
                  'âœ“ ØµØ­ÙŠØ­!',
                  'ğŸ’š Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø© ØµØ§Ø¯Ù‚',
                  'ğŸ‘ Ù…ÙˆØ«ÙˆÙ‚',
                  'ğŸ˜‡ Ø£Ù…ÙŠÙ† Ø§Ù„ÙŠÙˆÙ…'
                ];
                hint.textContent = randomChoice(hints);
                hint.style.color = '#00ff00';
              }, 500);
              
              return correctResult;
            }
          }
          
          buttons.forEach(btn => {
            btn.onclick = () => {
              playTone(400, 0.05);
              btn.style.transform = 'scale(0.95)';
              setTimeout(() => btn.style.transform = 'scale(1)', 100);
              
              if (btn.dataset.num) {
                // Number button
                if (display === '0' || operation === '=') {
                  display = btn.dataset.num;
                  currentNum = btn.dataset.num;
                } else {
                  display += btn.dataset.num;
                  currentNum += btn.dataset.num;
                }
                hint.textContent = '';
              } else if (btn.dataset.op) {
                // Operation button
                if (operation && currentNum) {
                  // Calculate previous operation
                  const result = calculate(parseFloat(previousNum), parseFloat(currentNum), operation);
                  display = result.toString();
                  previousNum = result.toString();
                } else {
                  previousNum = currentNum || display;
                }
                operation = btn.dataset.op;
                currentNum = '';
                display += ' ' + btn.dataset.op + ' ';
              } else if (btn.dataset.equals) {
                // Equals button
                if (operation && currentNum && previousNum) {
                  const result = calculate(parseFloat(previousNum), parseFloat(currentNum), operation);
                  display = result.toString();
                  previousNum = '';
                  currentNum = result.toString();
                  operation = '=';
                  
                  // Play sound based on lie
                  if (shouldLie) {
                    playGlitch();
                  } else {
                    playTone(600, 0.2);
                  }
                }
              } else if (btn.dataset.clear) {
                // Clear button
                display = '0';
                currentNum = '';
                previousNum = '';
                operation = null;
                hint.textContent = '';
                playTone(300, 0.1);
              }
              
              updateDisplay();
            };
          });
        }
      },
      
      dontTouch: {
        name: 'ğŸš« Ù„Ø§ ØªÙ„Ù…Ø³',
        desc: 'Ù„Ø§ ØªÙ„Ù…Ø³ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø­Ù…Ø±Ø§Ø¡',
        cheat: 'Ø§Ø¶ØºØ· Ù…Ø³Ø§ÙØ© Ù„Ø¥Ø¨Ø·Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª',
        play: function() {
          const container = document.createElement('div');
          container.style.cssText = `
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: VT323, monospace;
          `;
          
          let score = 0;
          let slowMo = false;
          
          container.innerHTML = `
            <div style="color: #ffffff; font-size: 2rem; margin-bottom: 20px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="touch-score">0</span></div>
            <canvas id="touch-canvas" width="400" height="400" style="border: 3px solid #00ff00; background: #000; cursor: crosshair;"></canvas>
            <div id="touch-status" style="margin-top: 20px; font-size: 1.3rem; color: #666; min-height: 30px;"></div>
            <button onclick="this.parentNode.remove()" style="margin-top: 20px; padding: 10px 30px; background: transparent; border: 1px solid #666; color: #666; cursor: pointer;">Ø®Ø±ÙˆØ¬</button>
          `;
          
          document.body.appendChild(container);
          
          const canvas = container.querySelector('#touch-canvas');
          const ctx = canvas.getContext('2d');
          const scoreDisplay = container.querySelector('#touch-score');
          const status = container.querySelector('#touch-status');
          
          let obstacles = [];
          let playerX = 200;
          let playerY = 350;
          
          // Cheat
          document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
              e.preventDefault();
              slowMo = true;
              status.textContent = 'â° Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø¨Ø·ÙŠØ¡!';
              status.style.color = '#00ffff';
              canvas.style.filter = 'hue-rotate(180deg)';
            }
          });
          
          document.addEventListener('keyup', (e) => {
            if (e.code === 'Space') {
              slowMo = false;
              status.textContent = '';
              canvas.style.filter = '';
            }
          });
          
          canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            playerX = e.clientX - rect.left;
            playerY = e.clientY - rect.top;
          });
          
          function spawnObstacle() {
            obstacles.push({
              x: random(0, 350),
              y: -20,
              w: random(30, 60),
              h: 20,
              speed: random(2, 5)
            });
          }
          
          function update() {
            const speed = slowMo ? 0.3 : 1;
            
            // Move obstacles
            obstacles.forEach(obs => {
              obs.y += obs.speed * speed;
            });
            
            // Remove off-screen obstacles
            obstacles = obstacles.filter(obs => {
              if (obs.y > 400) {
                score++;
                scoreDisplay.textContent = score;
                playTone(600, 0.05);
                return false;
              }
              return true;
            });
            
            // Check collision
            for (let obs of obstacles) {
              if (playerX > obs.x && playerX < obs.x + obs.w &&
                  playerY > obs.y && playerY < obs.y + obs.h) {
                container.innerHTML = `
                  <div style="color: #ff0000; font-size: 4rem;">ğŸ’¥ Ù„Ù…Ø³Øª!</div>
                  <div style="color: #fff; font-size: 2rem; margin-top: 20px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score}</div>
                `;
                playGlitch();
                setTimeout(() => container.remove(), 3000);
                return;
              }
            }
            
            // Spawn new obstacles
            if (Math.random() < 0.02) {
              spawnObstacle();
            }
            
            draw();
            
            if (container.parentNode) {
              requestAnimationFrame(update);
            }
          }
          
          function draw() {
            ctx.clearRect(0, 0, 400, 400);
            
            // Draw obstacles
            ctx.fillStyle = '#ff0000';
            obstacles.forEach(obs => {
              ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
            });
            
            // Draw player
            ctx.fillStyle = slowMo ? '#00ffff' : '#00ff00';
            ctx.beginPath();
            ctx.arc(playerX, playerY, 8, 0, Math.PI * 2);
            ctx.fill();
          }
          
          update();
        }
      }
    };
    
    // Games Menu System
    const gamesMenuBtn = document.getElementById('games-menu-btn');
    const gamesMenu = document.getElementById('games-menu');
    const closeGamesMenu = document.getElementById('close-games-menu');
    const gamesGrid = document.getElementById('games-grid');
    
    // Prevent cursor: none on game elements
    gamesMenu.style.cursor = 'auto';
    
    // Populate games grid
    Object.keys(games).forEach(gameKey => {
      const game = games[gameKey];
      const gameCard = document.createElement('div');
      gameCard.className = 'game-card';
      gameCard.style.cssText = `
        padding: 20px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border: 2px solid #e94560;
        cursor: pointer !important;
        transition: all 0.3s;
        border-radius: 10px;
        text-align: center;
      `;
      
      gameCard.innerHTML = `
        <div style="font-size: 3rem; margin-bottom: 10px;">${game.name.split(' ')[0]}</div>
        <div style="font-size: 1.3rem; color: #e94560; margin-bottom: 8px;">${game.name.split(' ').slice(1).join(' ')}</div>
        <div style="font-size: 0.9rem; color: #888;">${game.desc}</div>
        <div style="font-size: 0.7rem; color: #666; margin-top: 8px; font-style: italic;">ğŸ’¡ ${game.cheat}</div>
      `;
      
      gameCard.onmouseenter = () => {
        gameCard.style.transform = 'scale(1.05)';
        gameCard.style.boxShadow = '0 0 30px #e94560';
        playTone(400, 0.05);
      };
      
      gameCard.onmouseleave = () => {
        gameCard.style.transform = 'scale(1)';
        gameCard.style.boxShadow = 'none';
      };
      
      gameCard.onclick = () => {
        initAudio();
        gamesMenu.classList.add('hidden');
        gamesMenu.style.display = 'none';
        playTone(600, 0.1);
        game.play();
      };
      
      gamesGrid.appendChild(gameCard);
    });
    
    gamesMenuBtn.onclick = () => {
      initAudio();
      gamesMenu.classList.remove('hidden');
      gamesMenu.style.display = 'flex';
      playTone(500, 0.1);
    };
    
    closeGamesMenu.onclick = () => {
      gamesMenu.classList.add('hidden');
      gamesMenu.style.display = 'none';
      playTone(400, 0.1);
    };
    
    // ========== NAME BOX SYSTEM ==========
    const nameBox = document.getElementById('name-box');
    const nameInput = document.getElementById('name-input');
    const nameSubmit = document.getElementById('name-submit');
    const nameSkip = document.getElementById('name-skip');
    
    function showNameBox() {
      if (!memory.name) {
        setTimeout(() => {
          nameBox.classList.remove('hidden');
          nameBox.style.display = 'block';
          nameInput.focus();
          playTone(500, 0.2);
        }, 3000);
      }
    }
    
    nameSubmit.onclick = () => {
      const name = nameInput.value.trim();
      if (name) {
        memory.name = name;
        localStorage.setItem('weird_name', name);
        nameBox.style.display = 'none';
        showMessage(`Ø£Ù‡Ù„Ø§Ù‹ ${name}... Ø³Ø£ØªØ°ÙƒØ± Ø§Ø³Ù…Ùƒ`, { color: '#9333ea', size: '2rem', duration: 3000 });
        playTone(700, 0.3);
        
        setTimeout(() => {
          showMessage('Ù„Ù„Ø£Ø¨Ø¯...', { color: '#ff0000', size: '1.5rem', duration: 2000 });
        }, 3500);
      }
    };
    
    nameSkip.onclick = () => {
      nameBox.style.display = 'none';
      showMessage('Ø­Ø³Ù†Ø§Ù‹... Ø³Ø£Ø³Ù…ÙŠÙƒ "Ø§Ù„ØºØ±ÙŠØ¨"', { color: '#666', duration: 2000 });
      memory.name = 'Ø§Ù„ØºØ±ÙŠØ¨';
      localStorage.setItem('weird_name', 'Ø§Ù„ØºØ±ÙŠØ¨');
    };
    
    nameInput.onkeypress = (e) => {
      if (e.key === 'Enter') {
        nameSubmit.click();
      }
    };
    
    // ========== STATS DISPLAY ==========
    function updateStats() {
      document.getElementById('visit-display').textContent = memory.visits;
      document.getElementById('click-display').textContent = memory.clicks;
      document.getElementById('achievement-display').textContent = memory.achievements.length;
    }
    
    // ========== INITIALIZATION ==========
    const defaultConfig = {};
    
    function onConfigChange(config) {
      // No config-based rendering needed
    }
    
    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(config) {
      return new Map();
    }
    
    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
    
    // Initialize on first interaction
    document.addEventListener('click', () => {
      initAudio();
    }, { once: true });
    
    // Update stats display
    updateStats();
    
    // Instagram link hover effects
    const instaLink = document.getElementById('insta-link');
    if (instaLink) {
      instaLink.addEventListener('mouseenter', () => {
        playTone(500, 0.1);
        instaLink.style.boxShadow = '0 0 20px #e1306c';
        if (chance(50)) {
          showMessage(randomChoice([
            'Ø£Ø±Ø§Ùƒ Ù‡Ù†Ø§Ùƒ... ğŸ‘ï¸',
            'ØªØ±ÙŠØ¯ Ø§Ù„Ù…ï¿½ï¿½ÙŠØ¯ØŸ',
            'Ø§Ù„Ø±Ø¹Ø¨ ÙŠØªØ¨Ø¹Ùƒ',
            'Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø¸Ù„Ø§Ù…',
            'Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ... Ù„Ù„Ø£Ø¨Ø¯'
          ]), { color: '#e1306c', duration: 1500 });
        }
      });
      
      instaLink.addEventListener('mouseleave', () => {
        instaLink.style.boxShadow = '';
      });
      
      // Random glitch effect on Instagram link
      setInterval(() => {
        if (chance(10)) {
          instaLink.classList.add('shake');
          setTimeout(() => instaLink.classList.remove('shake'), 500);
        }
      }, 5000);
    }
    
    // Initial greeting based on visits
    setTimeout(() => {
      if (memory.visits === 1) {
        showMessage('Ù…Ø±Ø­Ø¨Ø§Ù‹...', { duration: 2000 });
        showAchievement('first_visit');
        showNameBox();
      } else if (memory.visits > 1) {
        if (memory.name && memory.name !== 'Ø§Ù„ØºØ±ÙŠØ¨') {
          showMessage(`Ø¹Ø¯Øª ÙŠØ§ ${memory.name}...`, { duration: 2000, color: '#9333ea' });
        } else {
          showMessage(randomChoice(messages.greetings), { duration: 2000 });
        }
        if (memory.visits === 2) {
          showAchievement('return_visitor');
        }
      }
    }, 1000);
    
    // Button click handler
    weirdBtn.addEventListener('click', () => {
      initAudio();
      memory.clicks++;
      localStorage.setItem('weird_clicks', memory.clicks);
      
      // Check click achievements
      if (memory.clicks === 10) showAchievement('clicks_10');
      if (memory.clicks === 50) showAchievement('clicks_50');
      
      // Run 1-2 random events
      const numEvents = random(1, 2);
      for (let i = 0; i < numEvents; i++) {
        setTimeout(() => runRandomEvent(), i * 500);
      }
      
      // Change button text randomly
      const btnTexts = ['?', '!', '...', '???', '!!!', 'ğŸ‘ï¸', 'ğŸ”¥', 'ï¿½ï¿½ï¿½', 'ğŸ¤”', 'ğŸ˜ˆ', 'ğŸŒ€', 'â“'];
      weirdBtn.textContent = randomChoice(btnTexts);
    });
    
    // Secret portal
    secretPortal.addEventListener('click', () => {
      events.secretRoom();
    });
    
    // Random events on timer
    setInterval(() => {
      if (chance(20)) {
        runRandomEvent();
      }
    }, 15000);
    
    // Track time spent
    setInterval(() => {
      memory.totalTime++;
      localStorage.setItem('weird_time', memory.totalTime);
      
      // Patience achievement
      if (memory.totalTime === 30 && !memory.achievements.includes('patience')) {
        showAchievement('patience');
      }
    }, 1000);
    
    // Random creepy messages
    setInterval(() => {
      if (chance(10)) {
        showMessage(randomChoice(messages.creepy), { 
          color: '#ff0000', 
          position: 'random',
          size: '1rem',
          duration: 1500
        });
      }
    }, 20000);
    
    // Night owl check
    const hour = new Date().getHours();
    if (hour >= 0 && hour < 5) {
      setTimeout(() => showAchievement('night_owl'), 5000);
    }
    
    // Version check message
    setTimeout(() => {
      if (chance(30)) {
        events.versionAwareness();
      }
    }, 10000);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c3174f0d267d1f0',t:'MTc2OTI3NzkwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
