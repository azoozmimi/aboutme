<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://bvekfcfaskuhmckyrmjv.supabase.co https://*.supabase.co; img-src 'self' https: data:; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com;">
  <title>Abdulaziz | Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      background-color: var(--bg-color);
      color: var(--text-color);
    }

    * {
      font-family: 'Cairo', sans-serif;
    }

    /* Theme colors — edit these variables to change the site palette */
    :root {
      --primary-accent: #ffbd59; /* main accent */
      --secondary-accent: #737456; /* dark / secondary */
      --light-accent: #f3f6fa; /* light / highlights */
      --bg-color: #0b1320;
      --text-color: #f3f6fa;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    /* Glassmorphism - Optimized */
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Gradient Text (uses theme variables) */
    .gradient-text {
      background: linear-gradient(135deg, var(--primary-accent) 0%, var(--secondary-accent) 50%, var(--light-accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Floating Animation - Optimized */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes float-delayed {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    
    .float { animation: float 8s ease-in-out infinite; will-change: transform; }
    .float-delayed { animation: float-delayed 10s ease-in-out infinite; will-change: transform; }
    
    /* Pulse Glow */
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 189, 89, 0.3); }
      50% { box-shadow: 0 0 40px rgba(255, 189, 89, 0.6), 0 0 60px rgba(11, 19, 32, 0.3); }
    }
    
    .pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
    
    /* Reveal Animation */
    @keyframes reveal-up {
      from { opacity: 0; transform: translateY(60px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes reveal-scale {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
    
    .reveal { opacity: 0; animation: reveal-up 1s ease-out forwards; }
    .reveal-scale { opacity: 0; animation: reveal-scale 0.8s ease-out forwards; }
    
    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
    .delay-4 { animation-delay: 0.8s; }
    .delay-5 { animation-delay: 1s; }
    
    /* Gradient Background */
    .bg-gradient-mesh {
      background: 
        radial-gradient(at 20% 20%, rgba(255, 189, 89, 0.15) 0%, transparent 50%),
        radial-gradient(at 80% 80%, rgba(11, 19, 32, 0.15) 0%, transparent 50%),
        radial-gradient(at 40% 60%, rgba(243, 246, 250, 0.1) 0%, transparent 50%);
    }
    
    /* Scroll Progress */
    .scroll-progress {
      transform-origin: left;
      transform: scaleX(0);
    }
    
    /* Magnetic Button Effect */
    .magnetic-btn {
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    .magnetic-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(255, 189, 89, 0.4);
    }
    
    /* Card Hover - Optimized (keep original layout; only animate) */
    .skill-card {
      transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s ease;
      will-change: transform;
    }

    .skill-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
    }

    /* Ensure card text fits card dimensions without changing card structure */
    .skill-card h3 {
      font-size: 1.25rem;
      line-height: 1.15;
      margin: 0 0 0.5rem 0;
      text-align: right;
      overflow-wrap: anywhere;
      hyphens: auto;
    }

    .skill-card p {
      margin: 0;
      font-size: 0.95rem;
      color: #9ca3af; /* matches Tailwind gray-400 */
      text-align: right;
      overflow-wrap: anywhere;
    }
    
    /* Noise Texture */
    .noise::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.03;
      pointer-events: none;
    }
    

    
    /* Section Divider */
    .section-divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }
    /* Nav and social helpers */
    .nav-links a { color: inherit; transition: color 0.2s ease; }
    .nav-links a:hover { color: var(--primary-accent); }
    .social-link { transition: background-color 0.2s ease, transform 0.2s ease; }
    .social-link:hover { background-color: rgba(255,189,89,0.12); }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-x-hidden"><!-- Scroll Progress Bar -->
  <div id="scroll-progress" class="scroll-progress fixed top-0 left-0 right-0 h-1 z-50" style="background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent), var(--light-accent));"></div><!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-40 glass">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between"><a href="#hero" class="text-2xl font-black gradient-text">AZ</a>
   <div class="flex gap-8 text-sm font-medium nav-links"><a href="#about" class="transition-colors duration-300">من أنا</a> <a href="#skills" class="transition-colors duration-300">مهاراتي</a> <a href="#contact" class="transition-colors duration-300">تواصل</a>
   </div>
   </div>
  </nav><!-- Main Content -->
  <main id="main-wrapper" class="h-full w-full overflow-auto"><!-- Hero Section -->
   <section id="hero" class="min-h-screen relative flex items-center justify-center bg-gradient-mesh"><!-- Floating Shapes - Optimized -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute top-20 right-20 w-64 h-64 bg-[#ffbd59]/15 rounded-full blur-2xl float"></div>
      <div class="absolute bottom-20 left-20 w-80 h-80 bg-[#0b1320]/15 rounded-full blur-2xl float-delayed"></div>
    </div>
    <div class="relative z-10 text-center px-6 max-w-5xl">
    <div class="reveal"><span class="inline-block px-4 py-2 mb-6 text-xs font-semibold tracking-widest uppercase glass rounded-full text-[#ffbd59]"> مرحباً بالمستقبل </span>
     </div>
     <h1 id="hero-name" class="reveal delay-1 text-6xl md:text-8xl lg:text-9xl font-black mb-6 leading-none"><span class="gradient-text">ABDULAZIZ</span></h1>
     <p id="hero-tagline" class="reveal delay-2 text-xl md:text-2xl lg:text-3xl font-light text-gray-400 mb-8 max-w-3xl mx-auto">أصنع المستقبل بسطر واحد من الكود.<br><span class="text-white font-semibold">طالب IT في جامعة صنعاء</span></p>
    <div class="reveal delay-3 flex flex-col sm:flex-row gap-4 justify-center items-center"><a href="#about" class="magnetic-btn px-8 py-4 rounded-full font-bold text-lg pulse-glow" style="background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));"> اكتشف قصتي </a> <a href="#contact" class="magnetic-btn px-8 py-4 glass rounded-full font-bold text-lg hover:bg-white/10"> لنتحدث ← </a>
     </div><!-- Scroll Indicator -->
    <div class="reveal delay-4 mt-20 flex justify-center">
      </div>
     </div>
    </div>
   </section><!-- About Section -->
   <section id="about" class="min-h-screen relative py-32 px-6">
    <div class="section-divider mb-32"></div>
    <div class="max-w-6xl mx-auto">
     <div class="grid lg:grid-cols-2 gap-16 items-center"><!-- Text Content -->
      <div class="reveal-scale"><span class="text-[#ffbd59] text-sm font-semibold tracking-widest uppercase mb-4 block">01 — من أنا</span>
       <h2 id="about-title" class="text-4xl md:text-6xl font-black mb-8 leading-tight">لست مجرد<br><span class="gradient-text">مبرمج عادي.</span></h2>
       <p id="about-text" class="text-gray-400 text-lg leading-relaxed mb-8">أنا عبدالعزيز، طالب تقنية المعلومات في جامعة صنعاء. أؤمن أن التكنولوجيا ليست مجرد أكواد — إنها فن، إنها المستقبل الذي نصنعه بأيدينا. <br><br><span class="text-white font-semibold">كل مشروع أبدأه هو رسالة للعالم:</span> أن الإبداع قادر على المنافسة عالمياً. لا حدود، فقط طموح بلا سقف.</p>
       <div class="flex gap-6">
        <div class="text-center">
         <div class="text-4xl font-black gradient-text">
          ∞
         </div>
         <div class="text-sm text-gray-500">
          طموح
         </div>
        </div>
        <div class="text-center">
         <div class="text-4xl font-black gradient-text">
          24/7
         </div>
         <div class="text-sm text-gray-500">
          شغف
         </div>
        </div>
        <div class="text-center">
         <div class="text-4xl font-black gradient-text">
          100%
         </div>
         <div class="text-sm text-gray-500">
          تفاني
         </div>
        </div>
       </div>
      </div><!-- Visual Element -->
      <div class="reveal-scale delay-2 relative">
       <div class="aspect-square relative"><!-- Decorative Circles -->
        <div class="absolute inset-0 flex items-center justify-center">
         <div class="w-full h-full border border-white/10 rounded-full"></div>
         <div class="absolute w-3/4 h-3/4 border border-white/10 rounded-full"></div>
         <div class="absolute w-1/2 h-1/2 border border-white/10 rounded-full"></div>
         <div class="absolute w-1/4 h-1/4 rounded-full pulse-glow flex items-center justify-center" style="background: linear-gradient(135deg, var(--primary-accent), var(--secondary-accent));"><img id="hero-image" src="5.png" alt="Hero Icon" loading="lazy" onerror="this.style.display='none';" class="w-16 h-16 object-contain">
         </div>
        </div><!-- Floating Tags -->
        <div class="absolute top-10 right-10 glass px-4 py-2 rounded-full text-sm float">
          IT Student
        </div>
        <div class="absolute bottom-10 left-10 glass px-4 py-2 rounded-full text-sm float-delayed">
          Future Builder
        </div>
        <div class="absolute top-1/2 right-0 glass px-4 py-2 rounded-full text-sm float">
          Yemen
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Skills Section -->
   <section id="skills" class="min-h-screen relative py-32 px-6 bg-gradient-mesh">
    <div class="section-divider mb-32"></div>
    <div class="max-w-6xl mx-auto">
    <div class="text-center mb-20 reveal-scale"><span class="text-[#ffbd59] text-sm font-semibold tracking-widest uppercase mb-4 block">02 — مهاراتي</span>
      <h2 id="skills-title" class="text-4xl md:text-6xl font-black">أدواتي في<br><span class="gradient-text">صناعة المستحيل.</span></h2>
     </div>
     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Skill Card 1 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl">
        
       </div>
       <h3 class="text-2xl font-bold mb-3">تطوير الويب</h3>
       <p class="text-gray-400">HTML, CSS, JavaScript — أحول الأفكار إلى تجارب رقمية مذهلة.</p>
      </div><!-- Skill Card 2 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale delay-1">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl">
        
       </div>
       <h3 class="text-2xl font-bold mb-3">تصميم UI/UX</h3>
       <p class="text-gray-400">أصمم واجهات تتحدث للمستخدم قبل أن يلمسها.</p>
      </div><!-- Skill Card 3 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale delay-2">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl">
        
       </div>
       <h3 class="text-2xl font-bold mb-3">حل المشكلات</h3>
       <p class="text-gray-400">كل مشكلة هي فرصة لإثبات أن المستحيل مجرد رأي.</p>
      </div><!-- Skill Card 4 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale delay-3">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl">
        
       </div>
       <h3 class="text-2xl font-bold mb-3">تطبيقات الموبايل</h3>
       <p class="text-gray-400">أبني تجارب محمولة تبقى في جيبك وفي ذاكرتك.</p>
      </div><!-- Skill Card 5 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale delay-4">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl">
        
       </div>
       <h3 class="text-2xl font-bold mb-3">التعلم السريع</h3>
       <p class="text-gray-400">أتعلم أي تقنية جديدة بسرعة البرق.</p>
      </div><!-- Skill Card 6 -->
      <div class="skill-card glass rounded-3xl p-8 reveal-scale delay-5">
      <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl" >
        
       </div>
       <h3 class="text-2xl font-bold mb-3">الشغف</h3>
       <p class="text-gray-400">ليس مجرد عمل — إنه حياة أعيشها كل يوم.</p>
      </div>
     </div>
    </div>
   </section><!-- Contact Section -->
   <section id="contact" class="min-h-screen relative py-32 px-6 flex items-center">
    <div class="section-divider mb-32"></div>
    <div class="max-w-4xl mx-auto text-center">
    <div class="reveal-scale"><span class="text-[#ffbd59] text-sm font-semibold tracking-widest uppercase mb-4 block">03 — تواصل</span>
      <h2 id="contact-title" class="text-4xl md:text-6xl lg:text-7xl font-black mb-8">لنصنع شيئاً<br><span class="gradient-text">استثنائياً معاً.</span></h2>
      <p id="contact-text" class="text-gray-400 text-xl mb-12 max-w-2xl mx-auto">هل لديك فكرة؟ مشروع؟ أو مجرد رغبة في الحديث عن المستقبل؟<br>
        أنا هنا، جاهز للانطلاق.</p>
     </div>
    <div class="reveal-scale delay-2 flex flex-col sm:flex-row gap-6 justify-center items-center"><a href="https://api.whatsapp.com/send/?phone=%2B967776118371&text&type=phone_number&app_absent=0" class="magnetic-btn px-10 py-5 rounded-full font-bold text-xl pulse-glow" style="background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));"> راسلني الآن ✉️ </a>
     </div><!-- Social Links -->
    <div class="reveal-scale delay-3 mt-16 flex justify-center gap-6"><a href="https://github.com/azoozmimi" class="w-14 h-14 glass rounded-full flex items-center justify-center text-2xl transition-all duration-300 hover:scale-110 social-link">
       <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
      </svg></a>

      <!-- WhatsApp -->
      <a href="https://api.whatsapp.com/send/?phone=%2B967776118371&text=مرحبا" class="w-14 h-14 glass rounded-full flex items-center justify-center text-2xl transition-all duration-300 hover:scale-110 social-link" title="WhatsApp" aria-label="WhatsApp">
       <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
        <path d="M20.52 3.48A11.94 11.94 0 0012.01 0C5.37 0 .01 5.36.01 12c0 2.11.55 4.18 1.6 6.01L0 24l6.2-1.62A11.94 11.94 0 0012 24c6.64 0 12-5.36 12-12 0-3.21-1.25-6.22-3.48-8.4zM12 21.75c-1.78 0-3.52-.48-5.05-1.38l-.36-.22-3.69.96.98-3.6-.23-.37A9.747 9.747 0 012.25 12c0-5.38 4.37-9.75 9.75-9.75S21.75 6.62 21.75 12 17.38 21.75 12 21.75z"/>
        <path d="M17.2 14.8l-1.02-.29c-.14-.04-.3-.01-.41.07l-.86.64a6.39 6.39 0 01-2.91-2.91l.64-.86c.09-.12.11-.27.07-.41l-.29-1.02c-.08-.28-.37-.46-.65-.39l-1.02.24c-.52.12-1.03.29-1.51.5-.22.1-.44.22-.64.36C7.3 9.73 6.6 11.1 6.6 12.6c0 3.02 2.45 5.47 5.47 5.47 1.5 0 2.87-.7 3.75-1.77.13-.2.26-.41.36-.64.21-.48.38-.99.5-1.51l.24-1.02c.07-.28-.11-.57-.39-.65z"/>
       </svg>
      </a>

      <!-- Instagram -->
      <a href="https://instagram.com/i_lg4" class="w-14 h-14 glass rounded-full flex items-center justify-center text-2xl transition-all duration-300 hover:scale-110 social-link" title="Instagram" aria-label="Instagram">
       <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
        <path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm10 2c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3h10z"/>
        <path d="M12 7.5A4.5 4.5 0 1012 16.5 4.5 4.5 0 0012 7.5zm0 2A2.5 2.5 0 1112 12a2.5 2.5 0 010-2.5zM17.5 6a.75.75 0 11-.001 1.5A.75.75 0 0117.5 6z"/>
       </svg>
      </a>
     </div><!-- Quote -->
    <div class="reveal-scale delay-4 mt-20 glass rounded-3xl p-8 max-w-2xl mx-auto">
     <p class="text-2xl font-light italic text-gray-300">"الذين يجنون هم من يعتقدون أنهم يستطيعون تغيير العالم — وهم من يفعلون ذلك."</p>
     <p class="text-[#ffbd59] mt-4 font-semibold">— ستيف جوبز</p>
     </div>
    <!-- Registration Form -->
    <div id="register-wrapper" class="reveal-scale delay-5 mt-12 glass rounded-3xl p-8 max-w-2xl mx-auto text-right">
      <h3 class="text-2xl font-bold gradient-text mb-4">سجل بياناتك</h3>
      <form id="register-form" class="flex flex-col gap-4" onsubmit="return false;">
        <!-- Honeypots to trap bots (should remain hidden) -->
        <input type="text" name="website" id="honeypot-website" style="display:none" autocomplete="off">
        <input type="text" name="company" id="honeypot-company" style="display:none" autocomplete="off">
        <input type="text" id="user-name" placeholder="الاسم" class="p-3 rounded-md text-black" required>
        <input type="text" id="user-phone" placeholder="رقم الهاتف" class="p-3 rounded-md text-black" required>
        <button type="button" id="register-btn" onclick="addPerson(document.getElementById('user-name').value, document.getElementById('user-phone').value)" class="px-6 py-3 rounded-full font-bold text-white" style="background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));">تسجيل</button>
        <p id="register-message" class="text-sm mt-2"></p>
      </form>
    </div>
    </div>
   </section><!-- Footer -->
   <footer class=" px-2 border-t border-white/10">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
     <p class="text-gray-100 text-sm"><img src="5.png" alt="" width="100" height="100"></p>
    </div>
   </footer>
  </main>
  <script>
    // Default configuration
    const defaultConfig = {
      hero_name: 'ABDULAZIZ',
      hero_tagline: 'أصنع المستقبل بسطر واحد من الكود.\nطالب IT في جامعة صنعاء',
      hero_image_url: '',
      about_title: 'لست مجرد مبرمج عادي.',
      about_text: 'أنا عبدالعزيز، طالب تقنية المعلومات في جامعة صنعاء. أؤمن أن التكنولوجيا ليست مجرد أكواد — إنها فن، إنها ثورة، إنها المستقبل الذي نصنعه بأيدينا.\n\nكل مشروع أبدأه هو رسالة للعالم: أن الإبداع اليمني قادر على المنافسة عالمياً. لا حدود، لا ��يود، ف���� ط����ح بلا سقف.',
      skills_title: 'أدواتي في صناعة المستحيل.',
      contact_title: 'لنصنع شيئاً استثنائياً معاً.',
      contact_text: 'هل لديك فكرة؟ مشروع؟ أو مجرد رغبة في الحديث عن المستقبل؟ أنا هنا، جاهز للانطلاق.',
      background_color: '#0b1320',
      primary_accent: '#ffbd59',
      secondary_accent: '#0b1320',
      text_color: '#f3f6fa',
      muted_text_color: '#9ca3af',
      font_family: 'Cairo',
      font_size: 16
    };

    // Config change handler
    async function onConfigChange(config) {
      const baseFontStack = 'Cairo, sans-serif';
      const customFont = config.font_family || defaultConfig.font_family;
      const fontSize = config.font_size || defaultConfig.font_size;
      
      // Update hero image
      const heroImage = document.getElementById('hero-image');
      if (heroImage) {
        heroImage.src = config.hero_image_url || defaultConfig.hero_image_url;
      }
      
      // Helper: safe text with <br> (no innerHTML)
      function setTextWithBreaks(el, text, wrapSecondLineSpanClass) {
        el.textContent = '';
        const parts = (text || '').split('\n');
        parts.forEach((part, idx) => {
          if (idx === 1 && wrapSecondLineSpanClass) {
            const span = document.createElement('span');
            span.className = wrapSecondLineSpanClass;
            span.textContent = part;
            el.appendChild(span);
          } else {
            el.appendChild(document.createTextNode(part));
          }
          if (idx < parts.length - 1) el.appendChild(document.createElement('br'));
        });
      }

      // Helper: create gradient span safely
      function createGradientSpan(text) {
        const s = document.createElement('span');
        s.className = 'gradient-text';
        s.textContent = text || '';
        return s;
      }

      // Update hero name
      const heroName = document.getElementById('hero-name');
      if (heroName) {
        const nameText = config.hero_name || defaultConfig.hero_name;
        heroName.textContent = '';
        heroName.appendChild(createGradientSpan(nameText));
        heroName.style.fontFamily = `${customFont}, ${baseFontStack}`;
        heroName.style.fontSize = `${fontSize * 5}px`;
      }

      // Update hero tagline
      const heroTagline = document.getElementById('hero-tagline');
      if (heroTagline) {
        const taglineText = config.hero_tagline || defaultConfig.hero_tagline;
        // second line should be emphasized
        setTextWithBreaks(heroTagline, taglineText, 'text-white font-semibold');
        heroTagline.style.fontFamily = `${customFont}, ${baseFontStack}`;
        heroTagline.style.fontSize = `${fontSize * 1.5}px`;
      }
      
      // Update about title
      const aboutTitle = document.getElementById('about-title');
      if (aboutTitle) {
        const titleParts = (config.about_title || defaultConfig.about_title).split('\n');
        aboutTitle.textContent = '';
        aboutTitle.appendChild(document.createTextNode(titleParts[0] || ''));
        aboutTitle.appendChild(document.createElement('br'));
        aboutTitle.appendChild(createGradientSpan(titleParts[1] || 'مبرمج عادي.'));
        aboutTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        aboutTitle.style.fontSize = `${fontSize * 3}px`;
      }
      
      // Update about text
      const aboutText = document.getElementById('about-text');
      if (aboutText) {
        const text = config.about_text || defaultConfig.about_text;
        setTextWithBreaks(aboutText, text);
        aboutText.style.fontFamily = `${customFont}, ${baseFontStack}`;
        aboutText.style.fontSize = `${fontSize}px`;
      }
      
      // Update skills title
      const skillsTitle = document.getElementById('skills-title');
      if (skillsTitle) {
        const parts = (config.skills_title || defaultConfig.skills_title).split('\n');
        skillsTitle.textContent = '';
        skillsTitle.appendChild(document.createTextNode(parts[0] || ''));
        skillsTitle.appendChild(document.createElement('br'));
        skillsTitle.appendChild(createGradientSpan(parts[1] || 'صناعة المستحيل.'));
        skillsTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        skillsTitle.style.fontSize = `${fontSize * 3}px`;
      }
      
      // Update contact title
      const contactTitle = document.getElementById('contact-title');
      if (contactTitle) {
        const parts = (config.contact_title || defaultConfig.contact_title).split('\n');
        contactTitle.textContent = '';
        contactTitle.appendChild(document.createTextNode(parts[0] || ''));
        contactTitle.appendChild(document.createElement('br'));
        contactTitle.appendChild(createGradientSpan(parts[1] || 'استثنائياً معاً.'));
        contactTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        contactTitle.style.fontSize = `${fontSize * 3.5}px`;
      }
      
      // Update contact text
      const contactText = document.getElementById('contact-text');
      if (contactText) {
        setTextWithBreaks(contactText, config.contact_text || defaultConfig.contact_text);
        contactText.style.fontFamily = `${customFont}, ${baseFontStack}`;
        contactText.style.fontSize = `${fontSize * 1.25}px`;
      }
      
      // Update colors
      document.body.style.backgroundColor = config.background_color || defaultConfig.background_color;
      document.body.style.color = config.text_color || defaultConfig.text_color;
      
      // Update gradient colors dynamically
      const primaryAccent = config.primary_accent || defaultConfig.primary_accent;
      const secondaryAccent = config.secondary_accent || defaultConfig.secondary_accent;
      
      // Update CSS variables for gradients
      document.documentElement.style.setProperty('--primary-accent', primaryAccent);
      document.documentElement.style.setProperty('--secondary-accent', secondaryAccent);
      
      // Update gradient text elements
      const gradientTexts = document.querySelectorAll('.gradient-text');
      gradientTexts.forEach(el => {
        el.style.background = `linear-gradient(135deg, ${primaryAccent} 0%, ${secondaryAccent} 50%, #f3f6fa 100%)`;
        el.style.webkitBackgroundClip = 'text';
        el.style.webkitTextFillColor = 'transparent';
        el.style.backgroundClip = 'text';
      });
    }

    // Map to capabilities
    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => config.primary_accent || defaultConfig.primary_accent,
            set: (value) => { config.primary_accent = value; window.elementSdk.setConfig({ primary_accent: value }); }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => { config.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => { config.font_size = value; window.elementSdk.setConfig({ font_size: value }); }
        }
      };
    }

    // Map to edit panel values
    function mapToEditPanelValues(config) {
      return new Map([
        ['hero_name', config.hero_name || defaultConfig.hero_name],
        ['hero_tagline', config.hero_tagline || defaultConfig.hero_tagline],
        ['hero_image_url', config.hero_image_url || defaultConfig.hero_image_url],
        ['about_title', config.about_title || defaultConfig.about_title],
        ['about_text', config.about_text || defaultConfig.about_text],
        ['skills_title', config.skills_title || defaultConfig.skills_title],
        ['contact_title', config.contact_title || defaultConfig.contact_title],
        ['contact_text', config.contact_text || defaultConfig.contact_text]
      ]);
    }

    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    // Scroll Progress Bar
    const scrollProgress = document.getElementById('scroll-progress');
    const mainWrapper = document.getElementById('main-wrapper');
    
    mainWrapper.addEventListener('scroll', () => {
      const scrollTop = mainWrapper.scrollTop;
      const scrollHeight = mainWrapper.scrollHeight - mainWrapper.clientHeight;
      const progress = scrollTop / scrollHeight;
      scrollProgress.style.transform = `scaleX(${progress})`;
    });



    // Intersection Observer for reveal animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animationPlayState = 'running';
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    document.querySelectorAll('.reveal, .reveal-scale').forEach(el => {
      el.style.animationPlayState = 'paused';
      observer.observe(el);
    });

    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>
  <!-- Supabase client and registration handler -->
  
  
<script>
async function addPerson(name, phone) {
  const messageEl = document.getElementById('register-message');
  if (!messageEl) return;

  // Honeypot
  if (document.getElementById('honeypot-website').value || document.getElementById('honeypot-company').value) {
    console.warn('Honeypot triggered');
    return;
  }

  // Sanitize & Validate
  function sanitize(str){ const t=document.createElement('div'); t.textContent=str; return t.innerHTML;}
  function validateInputs(name, phone){ 
    if(!name) return "الاسم مطلوب"; 
    if(!phone) return "رقم الهاتف مطلوب"; 
    if(!/^\d{8,15}$/.test(phone)) return "رقم الهاتف غير صالح"; 
    return null;
  }
  function getDeviceInfo(){return {platform:navigator.platform, language:navigator.language, width:window.innerWidth, height:window.innerHeight};}

  name = sanitize(name).trim();
  phone = sanitize(phone).trim();
  const validationError = validateInputs(name, phone);
  if(validationError){ 
    messageEl.textContent = validationError; 
    messageEl.style.color='red'; 
    return; 
  }

  const btn = document.getElementById('register-btn'); 
  if(btn) btn.disabled = true;

  const deviceInfo = getDeviceInfo();

  try {
const res = await fetch('https://bvekfcfaskuhmckyrmjv.supabase.co/functions/v1/register-proxy', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name, phone, deviceInfo, userAgent: navigator.userAgent })
});


    if(!res.ok) throw new Error(`خطأ في الخادم: ${res.status}`);
    await res.json();

  // Hide the registration form
    formWrapper.style.display = 'none';

    // Show welcome message
    const welcomeMsg = document.createElement('p');
    welcomeMsg.textContent = `مرحباً ${name}، تم تسجيل بياناتك بنجاح!`;
    welcomeMsg.className = 'text-green-500 text-lg font-semibold mt-4';
    formWrapper.parentElement.appendChild(welcomeMsg);


    document.getElementById('user-name').value='';
    document.getElementById('user-phone').value='';
  } catch(err) {
    console.error(err);
    messageEl.textContent='حدث خطأ أثناء التسجيل. حاول مرة أخرى.';
    messageEl.style.color='red';
  } finally { 
    if(btn) btn.disabled=false; 
  }
}
</script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9befdaa331d8e281',t:'MTc2ODU5MDAwOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>


